### 咕泡圈面试题汇总

---

面试的阿里

1. Java基础
   a. 是否看过JDK源码(指的是list，spring，map之类的)
   答: 看过
   b. 是否看过hashMap的源码？底层实现是怎么样子的
   答: 说了1.8底层实现是数组+单链表/红黑树，接着又问红黑树的特性是什么？怎么实现的
   c. 反射了解么？能说下注解的原理么？
   答: 了解，反射类似于预加载，捕获异常classNotFoundException可能就是为了防止反射的出错
   注解的实现原理是反射，我们在通过反射去加载一个类的时候，能获取到当前这个类的属性，也可以获取到类上面的注解(就答到这里，我意识到可能错了)
   d: 了解并发编程么？了解线程池么？创建线程池的参数是什么？了解并发包么？
   答: 了解，了解过，线程创建我demo用过两种一种是创建特定线程数的，一种是不限定线程数字的，紧接着又问，假定用第一种创建线程数字为五个，那么当第六个请求过来当前线程池会怎么处理？我回答到有队列会阻塞，紧接着又问:如果过来一个一亿个请求会怎么样？会崩溃，具体的我没有了解过，但是RubbitMQ这个东西有一个峰值削减，当消息队列满了会跳转到错误页面，并发包的什么A什么，C什么我。。不大会

   e: 了解gc么？垃圾回收算法有哪些？
   答: 说了一点原理，标记清除，还有一种从上往下去寻找的(解决循环引用)，答的不好

2. 数据库
   a.了解数据库的ACID么？
   答: ACID
   A: 原子性
   C: 一致性
   I: 隔离性
   D: 持久性

   b.能解释下原子性是什么吗
   答: 原子性，我就举了银行家转账的例子，保持事务的要么全成功，要么全失败。

   C.了解数据库的隔离界别么？有哪四种？
   答: 不会。

   D. mysql数据库底层数据的存储结构是什么？
   答: 不会

3. 中间件
   a. 用过Dubbo么？阅读过源代码么？是处于用的阶段还是源代码的阶段
   答: 用。。

今天就是问个基础，就先到这里了，问了我几年工作经验，我说不到两年，鼓励了我一下，说我掌握的还可以，蛮不错的，知道没用过的，用学过的知识类比，吧啦吧啦，面试官人蛮好的，总体来说被吊打吧，不过很享受这种感觉

---

2020-04-06 阿里巴巴（面试官是阿里的一个高级开发工程师，挺能聊的）

1. 简单自我介绍
2. 项目介绍基本情况
3. 集合框架有熟悉的话，说下hashmap的扩容机制
4. 为什么要重写equals和hashCode方法，重写equals能不能不重写hashCode？（没说到点子上）
5. spring源码阅读过么，知道spring是怎么解决循环依赖的么？（表达能力有点问题）
6. aop那块知道么，原理知道么（aop还没讲，没掌握说不了解）
7. 常用哪些注解，requestMapping，作用在方法上，还有类上，类上是必须的么？
   说下getMapping和requestMapping的区别？
   说下responseBody和requestBody的区别？
8. springBoot用过么？(直接回答没有)
9. 分布式了解，读过zookeeper源码么？说下zookeeper工作原理（）
   10.平时用的什么数据库，mysql用过么，用的oracle数据库，那oracle数据库的默认事务级别知道不？
   11.如果一个sql执行慢，可能是什么原因造成的，你说说如果是你碰到了，你打算怎么排查?
   12.gc了解么？讲下垃回收机制？full gc的过程？CMS垃圾回收器了解不
   13.双亲委派模型知道不？说下原理
   14.平时有做总结么，对于遇到的问题有没有做一个记录总结什么的？（不做总结的程序员，不是个合格的程序员）
   15.平时看书么，关于哪方面的？

答案是不提供了，大佬们自由发挥吧。。。。。。。。
总结：
1.基础不牢，

---

 1、spring如何处理线程并发问题？
2、mongodb一般有哪些面试题 

---

 HashMap底层实现原理，红黑树，B+树，B树的结构原理，volatile关键字，CAS（比较与交换）实现原理
Spring的AOP和IOC是什么？使用场景有哪些？Spring事务，事务的属性，传播行为，数据库隔离级别
Spring和SpringMVC，MyBatis以及SpringBoot的注解分别有哪些？SpringMVC的工作原理，SpringBoot框架的优点，MyBatis框架的优点
SpringCould组件有哪些，他们的作用是什么？（说七八个）微服务的CAP是什么？BASE是什么？
设计模式（说五六个）
Redis支持的数据类型以及使用场景，持久化，哨兵机制，缓存击穿，缓存穿透
线程是什么，有几种实现方式，它们之间的区别是什么，线程池实现原理，JUC并发包，ThreadLocal与Lock和Synchronize区别
分布式事务（不同系统之间如何保证数据的一致性（A系统写入数据，B系统因为某些原因没有写入成功，造成数据不一致））
安全性问题（数据篡改（拿到别人的URL,篡改数据（金额）发送给系统））
索引使用的限制条件,sql优化有哪些，数据同步问题（缓存，数据库数据同步）
初始化Bean对象有几个步骤，它的生命周期
JVM内存模型，算法，垃圾回收器，调优，类加载机制（双亲委派）,创建一个对象，这个对象在内存中是怎么分配的？
如何设计一个秒杀系统，（高并发高可用分布式集群）
悲观锁，乐观锁，读写锁，行锁，表锁，自旋锁，死锁，分布式锁，线程同步锁，公平锁，非公平锁分别是什么
堆溢出，栈溢出的出现场景以及解决方案
说出几种MQ之间的区别，以及为什么使用这种MQ，消息重复发送（幂等性），消息发送失败，消息掉包，长时间收不到消息，发送的消息太大造成接收不成功
单点登录实现原理
假如有上亿条数据，你如何快速找到其中一条你想要的数据（几种简单的算法）
Dubbo的运行原理，支持什么协议，与SpringCould相比它为什么效率要高一些，Zookeeper底层原理
假如你带一个团队，让你设计一个系统，你需要考虑哪些 

---

 tomcat在并发场景中，应该如何优化tomcat，比如再下次8g内存的服务器上，部署4个tomcat，怎么做可以合理调优 人民网面试题 

---

1.5年Java开发经验面试字节跳动（2020-10-16）
全程大概半小时，面试官人很好

1. 在涉及支付的接口是如何保证接口的高可用，以及在遇到弱网条件下，发出的请求没有回复怎么办？
2. 消息队列问题，如何保证消息的可靠性，不被重复消费，多个相同的消息，如何保证只消费一次？
3. 你负责的功能模块的UV怎么去做的？对于某些某段时间内求情次数非常大的用户如何去处理呢？
4. Redis基本数据类型底层是怎么去实现的？有了解过吗？
5. 在浏览器输入网址敲下回车后发生了什么？从网址DNS解析到HTTP三次握手等过程
6. 在服务的多节点情况下，如何保证请求不会被分配到坏的节点上去的？
7. Redis分布式锁是怎么做到的？锁的过期时间怎么去设计的？如何保证当前锁不会释放掉其他锁？
8. HTTPS和HTTP的区别，HTTPS是如何防止消息被篡改的呢？HTTPS有用到对称加密吗？哪些地方用到了？
9. 写一个算法题吧，给一个有序的int数组和数组当中元素k，输出元素k在数组当中出现的次数。
   例如：[2,3,4,5,5,5,6,8] k=5 output:3 要去算法的时间复杂度不超过O(n),也就是说不能去遍历数组了
10. 用两个栈实现一个队列

---

百度（3轮技术面）：

1.synchrnoized和reentrantlock的底层实现及重入的底层原理
monitorenter monitorexit AQS。 重入原理：entry count，state

2.锁的四种状态及升级过程

3.CMS和G1的异同

4.G1什么时候引发Full GC

5.除了CAS，原子类，syn，Lock还有什么线程安全的方式
final

6.HashMap和Hashtable的异同

7.允许null键的map你知道哪些
HashMap，LinkedHashMap，WeakHashMap

8.null键放在HashMap的哪里
底层数组的0号位置

9.为什么hashtable的扩容是2倍+1
从除留余数法，hashtable初始容量方面回答

10.红黑树的插入时间复杂度

11.解决哈希冲突的方式

12.现有1T的数据，内存只有1G，该怎么对他们排序
外部排序（多路归并）

13.Tomcat为什么要重写类加载器

14.tcp握手挥手过程及其状态转换

15.mysql隔离级别

16.B树和B+树的区别

17.你知道哪些设计模式，它们在JDK源码中是怎么体现的

18.Java运行时数据区

19.说一个最熟悉的垃圾回收算法

20.吞吐量优先和响应时间优先的回收器是哪些
parallel scavenge和CMS

21.类加载全过程

22.线程池7个参数

23.CAS的ABA问题怎么解决
AtomicStampedReference，还可用带boolean版本戳的AtomicMarkableReference

24.Java内存模型
JMM共享内存模型以及8个原子操作指令

25.什么叫做阻塞队列的有界和无界

26.cookie和session介绍一下

27.说一下反射，反射会影响性能吗

28.谈一下AQS吧

29.为什么你说AQS的底层是CAS+volatile
state是volatile修饰的，并且设置state的方法除了有setState，还有compareAndSetState

30.JUC包里的同步组件主要实现了AQS的哪些主要方法
tryAcquire, tryRelease, tryAcquireShared, tryReleaseShared, isHeldExclusively

```
coding：leetcode+剑指offer原题共5题
```

美团（3轮技术面）：

1.ConcurrentHashMap底层原理

2.手写一个LRU
用LinkedHashMap

3.HashMap底层数据结构

4.为什么用红黑树不用普通的AVL树

5.为什么在8的时候链表变成树

6.为什么在6的时候从树退回链表

7.线程池7个参数，该怎么配置最好

8.说一下volatile

9.volatile的可见性和禁止指令重排序怎么实现的
可见性：缓存一致性协议
禁止指令重排序：JMM模型里有8个指令完成数据的读写，通过其中load和store指令相互组合成的4个内存屏障实现禁止指令重排序

10.CAS是什么

11.PriorityQueue底层是什么，初始容量是多少，扩容方式呢
最小堆，
11，若原始大小<64，则扩容为原来的2倍+2，不然就扩容为原来的1.5倍

12.HashMap的容量为什么要设置为2的次幂

13.你知道跳表吗，什么场景会用到
ConcurrentSkipListMap，用在多线程下需要自定义排序顺序时

14.CopyOnWriteArrayList知道吗，迭代器支持fail-fast吗
线程安全ArrayList，写时复制，迭代器是采用快照风格，不支持fail-fast

15.innodb的底层数据结构

16.为什么用B+树不用B树

17.为什么用B+树不用红黑树

18.coding：无序数组怎么寻找第k大的数，写一个二叉树层次遍历

19.不知道大小的数据流取其中100个数，怎样的取法能最随机

20.n个物品每个物品都有一定价值，分给2个人，怎么分两个人的价值差最小

21.假设百度每个页面能放100个网页，每个页面都有一个评分，怎样快速找到第8页的所有网页

顺丰（2轮技术面）：

1.线程池的设计里体现了什么设计模式

2.说说你了解什么设计模式，知道责任链设计模式吗

3.wait/notify体现了什么设计模式

4.线程池7个参数

5.谈一下spring事务传播

6.谈一下IOC底层原理

7.怎么判断内存泄漏

8.怎么在日志里排查错误，该用哪些Linux命令

9.mysql原子性和持久性怎么保证
undolog，redolog

10.怎么解决幻读
MVCC+间隙锁

11.innodb和myisam区别

12.索引分类

13.对象的创建过程

14.对象在内存中的存储布局
对象头，类元指针，实例数据，对齐填充

15.对象头具体包括什么

16.对象怎么定位
直接指针，句柄

17.堆的划分

18.对象怎么分配
栈上分配->TLAB->老年代->新生代

19.具体讲一下CMS流程

20.锁的四种状态

21.Object obj = new Object()这句话在内存里占用了多少内存
引用变量4Byte，Object对象的对象头12Byte，由于对齐填充增值16Byte，共20Byte

22.synchronized和reentrantLock的异同

京东（2轮技术面）：

1.总体说一下集合框架

2.你怎么看待接口和抽象类

3.索引的分类

4.主键索引的设计应该采用B-tree索引还是hash索引

5.设计模式说5，6个

6.谈一谈DDD面向领域编程

7.说一下hibernate一级缓存和二级缓存

8.说一下你了解的MQ

9.谈一谈你对高并发的理解，你会从什么角度设计高并发程序

10.JUC包里的限流该怎么做到
Semaphore / guava ratelimiter

11.索引不适用的条件

12.说一下NIO和AIO

13.AIO里用到什么设计模式
观察者

14.说一下select，poll，epoll

15.谈一下TCP的拥塞控制

16.你知道什么是as-if-serial语义吗，它和happen-before语义有什么区别
本质没啥区别，前者是谈的单线程程序，后者谈的多线程程序

17.Executors创建线程池的方式

18.CachedThreadPool里面用的什么阻塞队列
SynchronousQueue

19.那你知道LinkedTransferQueue吗，和SynchronousQueue有什么区别

20.你还知道什么阻塞队列，能具体说说它们的特点吗
ArrayBlockingQueue，LinkedBlockingQueue，LinkedBlockingDeque，PriorityBlockingQueue，DelayQueue

21.线程池的线程数怎么设置比较好

22.你知道新出的LongAdder吗，和AtomicLong有什么区别
AtomicLong相当于多线程竞争一次修改value的机会
LongAdder把value拆成多个值放在cell数组里，相当于多线程竞争多次修改value的机会，性能自然上升

23.那你知道LongAccumulator吗
不仅支持加法，还支持自定义的其他操作

---

 腾讯面试：
1、Synchronized在jdk1.6之后做了哪些优化？
2、mysql查询执行计划中filesort用到哪些算法
3、redis序列化是怎么实现的
4、讲讲你对java内存模型的理解，内存可见性怎么实现 

---

1. 一个是用户信息文件, 保存了1亿的用户信息, 一个是用户浏览商品的记录的文件, 保存了500万的用户浏览记录, 怎么合并这两个文件? (内存为1G)
2. 文件中怎么快速找出浏览记录大于5的数据?

---

Java对象生命周期
加载、链接、初始化、使用、卸载。
一般会跟加载阶段和初始化阶段交叉进行。
链接：验证、准备、解析
初始化：变量值、时机、过程
使用：主动引用、被动引用
卸载：jvm垃圾回收的机制。java堆中不存在该类的任何实例，加载该类的ClassLoader已经被回收，该类对应的java.lang.Class对象没有任何地方被引用，无法在任何地方通过反射访问该类的方法
https://www.cnblogs.com/wangsen/p/10838733.html

1.项目的自我介绍

2.Java的内存分区
堆、栈、native栈、方法区、程序计数器。
都在运行时数据区。

3.Java对象的回收方式。回收算法。
https://www.cnblogs.com/lowerma/p/12421752.html

4.CMS和G1了解么？CMS解决什么问题。说一下回收的过程
CMS收集器仅作用于老年代的收集，是基于标记-清除算法的，它的运作过程分为4个步骤：

初始标记（CMS initial mark）
并发标记（CMS concurrent mark）
重新标记（CMS remark）
并发清除（CMS concurrent sweep）

CMS收集器优点：并发收集、低停顿。
CMS收集器缺点：
CMS收集器对CPU资源非常敏感。
CMS收集器无法处理浮动垃圾（Floating Garbage）。
CMS收集器是基于标记-清除算法，该算法的缺点都有。

https://www.cnblogs.com/heyonggang/p/11718170.html

5.CMS回收停顿了几次。为啥？

6.Java栈溢出是什么情况下发生。Java堆呢？
栈溢出发生情况：栈存储什么数据？1，数据类型 2.各种引用 递归算法。链路很深的情况下。栈会出现溢出。

7.Java的锁有哪些。lock :reentrantlock 自循锁 和synchronized等。
他们的区别:1.所处的层数不通，关键字和类接口。
https://blog.csdn.net/e54332/article/details/86577071

8.tomcat 类加载结构

9.Spring中，怎么确定A和B的加载顺序。
使用Spring @DependsOn控制bean加载顺序
Springboot的@AutoConfigureAfter注解，手动的指定Bean的实例化顺序
https://www.cnblogs.com/duanxz/p/3668423.html

10。10亿个数怎么去重。 hash分片。bitmap去重排序。

11.本地缓存
guava cache(LoadingCache)使用和源码分析。 https://www.cnblogs.com/hejunnuo/p/10334888.html

二面

1.说下Java多线程

使用多线程，可以把一些大任务分解成多个小任务来执行，多个小任务之间互不影像，同时进行，这样，充分利用了cpu资源。
.继承Thread类，重写run方法
.实现Runable接口，实现run方法

2.Java线程池
corePoolSize：线程池的大小。线程池创建之后不会立即去创建线程，而是等待线程的到来。当当前执行的线程数大于改值是，线程会加入到缓冲队列；
maximumPoolSize：线程池中创建的最大线程数；
keepAliveTime：空闲的线程多久时间后被销毁。默认情况下，改值在线程数大于corePoolSize时，对超出corePoolSize值得这些线程起作用。
workQueue：阻塞队列，用来存储等待执行的任务，决定了线程池的排队策略，有以下取值：
handler:线程拒绝策略。当创建的线程超出maximumPoolSize，且缓冲队列已满时，新任务会拒绝，有以下取值：
https://blog.csdn.net/u013541140/article/details/95225769

3.什么情况下会发生线程死锁 所谓死锁是指多个线程因竞争资源而造成的一种僵局(互相等待)，若无外力作用，这些进程都将无法向前推进
https://www.cnblogs.com/scar1et/p/11909287.html

4.集合类大概讲下。一个字符串。找出pdd并且删除

5.对redis的理解。redis分布式怎么实现。。String\Hash\List\Set\Sorted Set
.redis反正重复提交操作。
.redis计数锁防止单用户一段时间内提交次数。
.限流/限量。
https://www.jb51.net/article/163822.htm

6.RPC了解吗？主要是协议栈+数据格式+序列化协议方式。需要服务注册中心来管理生成和消费者
就是客户端基于某种传输协议通过网络向服务提供端请求服务处理，然后获取返回数据(对于oneway模式则不返还响应结果；而这种调用对于客户端而言，和调用本地服务一样方便，开发人员不需要了解具体底层网络传输协议。简单讲，就是本地调用的逻辑处理的过程放在的远程的机器上，而不是本地服务代理来处理。
https://www.jianshu.com/p/22f6e0b5b618

7.TCP三次握手的过程。

三面

1.自我介绍

2.cap是否了解。分别是什么？base又指的什么？
CAP理论为：
一个分布式系统最多只能同时满足:一致性,数据一致更新,所有数据变动都是同步的;可用性,好的响应性能;分区容错性,可靠性

base本可用+软状态+最终一致性
eBay的架构师Dan Pritchett源于对大规模分布式系统的实践总结，在ACM上发表文章提出BASE理论，BASE理论是对CAP理论的延伸，核心思想是即使无法做到强一致性/
https://blog.csdn.net/xiaqunfeng123/article/details/51688974/

3.负载均衡算法做什么？
负载均衡是什么？简单来说，负载均衡就是用于服务器集群的时候，一个请求分发调用集群的机制而已。就比如我们去吃饭的时候筷子蓝里有一堆筷子。我们要随机取一两只筷子出来用。这就是一个负载均衡的过程。从负载均衡的算法来看，又分为 随机，轮询，哈希，最小压力，当然可能还会加上权重的概念，负载均衡的算法就是本文的重点了。每个算法就是取筷子的规则不一样咯。

4.了解过redis集群穿透和雪崩吗？redis有哪些集群模式
集群模式：1、主从复制，发送SYNC（同步）命令 2、哨兵模式：监控和切换主服务器 3、Redis-Cluster集群 3.0版本。 主从不冗余数据，节省内存。PING-PONG机制
缓存穿透：
是指的redis里不存在的数据。直接查询Mysql数据库。查询不到也没写到缓存。每次请求都直接访问数据库的情况。
解决方案： 空数据也缓存； 对入参数进行异常校验，不符合直接拦截。
缓存雪崩：
如果缓存集中在一段时间内失效，发生大量的缓存穿透，所有的查询都落在数据库上，造成了缓存雪崩。（同样的超时时间）
。在缓存失效后，通过加分布式锁来控制读数据库写缓存的线程数量。比如对某个key只允许一个线程查询DB数据写到缓存，其他线程等待。
。查询即将失效预先去更新缓存，再即将发生大并发访问前手动触发加载缓存，reload机制
。做二级本地缓存，或者双缓存策略。A1为原始缓存，A2为拷贝缓存，A1失效时，可以访问A2，A1缓存失效时间设置为短期，A2设置为长期。
https://blog.csdn.net/agzhchren/article/details/91408050

5.MYSQL主从复制怎么实现的呢？具体原理
是通过binlog日志来实现的。
https://www.jianshu.com/p/faf0127f1cb2

6.项目用到多线程。线程太多会引起什么？
.查询过多时，开多线程分页查询，提高效率。
。无需知道处理结果，做异步通知下流接口。提高效率。
。tomcat内部采用的就是多线程，充分利用了cpu资源。
https://blog.csdn.net/u012661010/article/details/76696309

7.分布式消息队列。消息队列能干嘛？ 消峰，异步处理。
kafka robbitmq

8.redis为啥能查询那么快
存储在内存里的。不需要和磁盘进行IO请求。

redis 缓存淘汰机制：

腾讯新零售面试问题：
我简单说下项目。
秒杀的场景是怎么设计的？
最大的规模是怎么样的？
怎么扣库存的？
怎么保证redis扣库存和mysql一致性等。

lock 和synchronized 的区别。CountDownLatch
锁的同步等等。

https://www.cnblogs.com/lxmyhappy/p/7380073.html

Mysql的四种隔离级别有哪些？四种隔离方式。默认哪个？有幻读的问题怎么解决的？MVCC一定能解决吗？
1.提交读 2.未提交读 3.🉑重复读 4.可串行化

https://www.cnblogs.com/jian-gao/p/10795407.html

多线程怎么同时触发？我回答用redis分布式锁来实现。
Java并发同步计数器CountDownLatch
https://blog.csdn.net/u010255818/article/details/72085717

mybatis怎么防止SQL注入的？
用预编译的方式
https://www.cnblogs.com/mmzs/p/8398405.html

redis的过期时间和过期删除机制？内部扩容机制？怎么解决hash冲突的。

mysql日志：redo log日志，undo log是用来做什么的
https://www.cnblogs.com/myseries/p/10728533.html

jdk1.8的垃圾回收算法？用的弄明白CMS和G1。他们有什么区别？

内存泄漏和益处的区别
https://www.cnblogs.com/rgever/p/8899758.html

XSS 和 CSRF简述及预防措施：
https://www.jianshu.com/p/64a413ada155
https://www.cnblogs.com/yangsg/p/10621496.html

100万数据排序算法怎么排？
堆排序算法

redis集群高可用
https://blog.csdn.net/qq_41849945/article/details/80821303

---

 如何从亿级数据中查找到出现频率最高的几个数？ 

---

 京东 2020-08-18
1.自我介绍
2.讲一下dubbo这个rpc框架的调用方式
3.dubbo配合zookeeper怎么进行服务注册与发现
4.springboot是怎么读取dubbo.xml文件的，启动spring项目的时候是怎么实例化dubbo里面的类的，分析具体细节与源码
5.zookeeper和eureka注册中心的区别，cap定理，zookeeper选举过程
6.平时怎么优化mysql的，mysql的索引结构，每个结点怎么存，mysql一张表最大能存多少数据。b+树的树深度怎么计算。叶子结点存了什么
7.聚簇索引和非聚簇索引的区别与底层原理
8.sychronized关键字底层实现，lock底层实现
9.lock底层AQS怎么实现，CLH队列怎么存储数据，具体细节
10.aqs中的state字段作用，如果这个程序突然挂了，锁着的资源怎么做，aqs里面的执行流程
11.volatile原理，底层怎么可见性和保证有序，说一下mesi缓存一致性协议具体
12.锁的升级，对象的32位或者64位都存了啥
13.用过redis么，用redis都做了什么
14.redis的删除策略，过期删除有哪些过期策略
15.redis的持久化，rdb和aof区别，redis服务挂了怎么恢复数据，具体恢复过程
16.redis的选举过程
17.mq的作用，用过哪些
18.hashmap底层原理，为什么线程不安全，扩容的具体思路，有没有线程安全的map
19.讲一下currenthashmap的原理，1.7和1.8区别，扩容，协助扩容
20.threadlocal源码，怎么解决哈希冲突
21.场景题，数据库里面有两列数据，id和score，数据量上百万。用线程池创建线程进行多线程累加score，怎么设计。从创建线程池到取数据累加存储结果。
22.场景题，怎么设计一个高并发接口 

---

 讲一下gc算法，mybatis源码你分析一下 

---

腾讯云面试题：

以下main方法的输出结果

```java
public class HaHa {
    public static void haha(){
        System.out.println("haha");
    }

    public static void main(String[] args){
        ((HaHa)null).haha();           
    }
}
```

ArrayList list=new ArrayList(20);
有几次扩容

redis AOF 方式恢复数据时做了什么优化

---

一个是用户信息文件, 保存了1亿的用户信息, 一个是用户浏览商品的记录的文件, 保存了500万的用户浏览记录, 怎么合并这两个文件? (内存为1G)

文件中怎么快速找出浏览记录大于5的数据?

---

阿里面试题：

评测题目:
以下文件提供给候选人进行使用作为输入

1.txt
2000102,100,98.3

2000103,101,73.3
2000104,102,98.3

2.txt
2000106,101,45.3

3.txt
2000105,100,101.3

题目：

假设本地有一个文件夹，文件夹下面有若干文件（文件数大于50小于100），文件的存储格式是文本格式（后缀名是.txt)，文件的大小每个文件不会超过100k。
文件格式如下：
2000102，100，98.3
2000103，101，73.3
2000104，102，98.3
2000105，100，101.3
2000106，101，45.3
…

文件格式说明：文件每行都由三列构成，第一列是一个id，第二列是分组groupId, 第三列是指标quota。
id的数据类型是String, groupId的数据类型String, quota的数据类型float。

功能要求：
1.对文件夹下面所有文件的内容进行合并排序，输出按照分组升序排序之后，每个分组下面的最小指标值。比如上面的数据输出结果为：

100，2000102，98.3
101，2000106，45.3
102，2000104，98.3

非功能要求
1.文件读取要有线程池来执行，线程池的大小固定为10，文件内容需要存储到指定的内容数据结构当中。
2.查找要求有独立线程来执行，直接消费读取线程池产生的内存数据结构。
3.文件读取和排序要求并发作业，文件读取只要产生了数据，就可以把数据交给排序线程进行消费，计算最小值。

代码结构要求
1.重上面的要求语意里面抽象出合适的设计模式。
2.需要考虑多线程的并发控制，同步机制。
3.代码实现只能用JDK1.6或者1.8自带的工具类。

---

 详细解析base64 

---

 1、对线程池的了解
2、HashMap和ConcurrentHashMap的区别
3、ConcurrentHashMap如何保证线程不安全 

---

 springboot的启动过程。 

---

 spring AOP原理及实现 

---

两个数字 int a=10 int b=20 如何不经过第三个变量来交换，结果为 a=20 b=10

a = a^b
b=a^b
a=a^b

---

 面试的恒生
1、springBoot注解启动流程 有哪些配置文件
2、数据库单表数据量过大 怎样进行优化（不会）
3、redis的数据类型
4、用过哪些类型的接口（不会）
5、Restfull请求类型
6、哪些操作会触发垃圾回收 CPU空闲时会进行垃圾回收吗
7、线程和进程的理解 创建线程的方法 线程之间的通信机制 

---

 Java类通过实现 java.io.Serializable 接口以启用其序列化功能。未实现此接口的类将无法进行序列化或反序列化。 可序列化类的所有子类型本身都是可序列化的。
如果读者看过Serializable的源码，就会发现，他只是一个空的接口，里面什么东西都没有。Serializable接口没有方法或字段，仅用于标识可序列化的语义。 但是，如果一个类没有实现这个接口，想要被序列化的话，就会抛出java.io.NotSerializableException异常。
它是怎么保证只有实现了该接口的方法才能进行序列化与反序列化的呢？ 

---

 JVM如何调优的 

---

 面试海康
java基础必问
一个数据库优化方案
一个架构分布式方案
问了redis，具体探讨了如何实现lru
还有其他的记不清楚了。。。 

---

1. 说说对spring boot 的认识。
2. 说说mybatis的基本原理。
3. redis的数据类型
4. mybatis 的两张缓存机制，怎样实现。

---

 反射的原理 

---

 G1 和cms的区别 

---

 1.mysql事务是什么原理，怎么保证事务的4大特性
2.分布式事务的解决方案，各个方案是否是强一致性
3.缓存和数据库的一致性
4.线程同步有哪些解决方案
5.volatile、synchronized 的作用和原理(内存屏障，偏向锁、自旋锁、独占锁)
6.cas的aba问题和高并发下性能问题
7.jvm的原理，内存模型->垃圾回收->G1回收器->调优思路和工具->线上问题的解决思路
8.spring ioc（循环依赖）和mybatis源码
9.dubbo是如何实现远程调用的，spi机制的原理
10.自己实现一个orm框架应该注意哪些点（参考mybatis的优点）
11.如何设计一个秒杀系统（https://yq.aliyun.com/articles/64762）
12.如何设计一个电商购物车倒计时功能（小型的可以使用定时任务，但是在电商业务场景下肯定不能用，面试官分享了一个思路大概是使用消息延时投递和时间轮，并自己设计了一个中间件，具体思路我忘了）
13.对中台架构的理解 

---

 spring中的事务实现原理是什么 

---

Redis支持的数据类型？

String字符串：

格式: set key value

string类型是二进制安全的。意思是redis的string可以包含任何数据。比如jpg图片或者序列化的对象 。

string类型是Redis最基本的数据类型，一个键最大能存储512MB。

Hash（哈希）

格式: hmset name key1 value1 key2 value2

Redis hash 是一个键值(key=>value)对集合。

Redis hash是一个string类型的field和value的映射表，hash特别适合用于存储对象。

List（列表）

Redis 列表是简单的字符串列表，按照插入顺序排序。你可以添加一个元素到列表的头部（左边）或者尾部（右边）

格式: lpush name value

在 key 对应 list 的头部添加字符串元素

格式: rpush name value

在 key 对应 list 的尾部添加字符串元素

格式: lrem name index

key 对应 list 中删除 count 个和 value 相同的元素

格式: llen name

返回 key 对应 list 的长度

Set（集合）

格式: sadd name value

Redis的Set是string类型的无序集合。

集合是通过哈希表实现的，所以添加，删除，查找的复杂度都是O(1)。

zset(sorted set：有序集合)

格式: zadd name score value

Redis zset 和 set 一样也是string类型元素的集合,且不允许重复的成员。

不同的是每个元素都会关联一个double类型的分数。redis正是通过分数来为集合中的成员进行从小到大的排序。

zset的成员是唯一的,但分数(score)却可以重复。

---

 spring 源码有看过么 ，spring怎么处理循环依赖的
线程并发相关问题 

---

Java虚拟机底层原理与性能优化
1、Java虚拟机内存模型能说说吗？
2、类加载器的双亲委派模型是什么？
3、JVM垃圾收集算法与收集器有哪些？
4、JVM诊断调优工具用过哪些？
5、每秒几十万并发的秒杀系统为什么会频繁发生GC？
6、日均百万级交易系统如何优化JVM？
Mysql索引数据结构与性能优化
1、索引数据结构红黑树，Hash，B+树能说下吗？
2、千万级数据表如何用索引快速查找？
3、如何基于索引B+树精准建立高性能索引？
4、联合索引底层数据结构又是怎样的？
5、覆盖索引与聚集索引到底是什么？
6、Mysql最左前缀优化原则是什么？
BIO，NIO，AIO，Netty以及Redis线程模型
1、BIO，NIO，AIO的区别？
2、什么是阻塞IO以及非阻塞IO？
3、Reactor和Proactor IO设计模式是什么？
4、NIO底层select、poll和epoll实现的区别 ？
5、Java NIO的几个核心组成部分是什么？作用分别是什么？
6、Redis、Netty、Tomcat的线程模型与NIO的联系是什么？

hashmap1.7和1.8+
jdk1.8的改动
concurrenthashmap1.7和1.8+
redis网络模型
redis分布式锁
aqs原理
公平锁和非公平锁
synchronized和lock的区别
threadpoolexecutor原理
ArrayList和linkedlist区别和使用场景，内部实现
mysql索引、回表、索引下推
mysql索引b和b+树优劣
mysql分片（写扩散、读扩散）
秒杀系统设计，怎么防止超卖，怎么提高并发
redis源码数据结构
jvm参数设置
YGC、OldGC
tcp四次挥手
tcp和udp区别
如何选择垃圾收集器
垃圾收集器的使用规则和搭配方式
新生代和老年代比例设置
redis和数据库保证数据一致性
redis的布隆过滤器
redis的穿透和雪崩
redis高可用、集群(Sentinal、哨兵)
kafka为什么快（零拷贝、磁盘顺序读写）
reactor和epoll模型
bio、nio、aio

DDD
服务治理
负载均衡
RPC
高并发架构设计
用户模块业务
状态机设计

1、设计一个调度job，需要注意哪些细节
2、订单的数据表进行分库分表的依据是什么
3、rpc的请求过程，负载均衡应该怎么做
4、订单表在重构迁移的时候，应该注意什么
5、在重构一个业务项目的时候，要做哪些上线准备，需要注意什么
6、是怎么判定一个服务是否存活的
7、不同的业务线的订单处理方式都不同，我们平台这边主要是提供统一的下单接口，然后需要让各个业务线自己去做具体的业务逻辑，这块应该怎么设计可以让不同的业务线订单都能统一的下单且分流到各自的业务线去让他们自己处理
8、迁移微服务的优势
9、如果让你设计一套第四方支付系统，你会考虑哪些方面

1、AQS的用处
2、线程池的工作原理
3、阻塞队列的实现方式，为什么会阻塞
4、IOC解决循环注入的方法
5、AOP的实现方式，jdk、cglib的区别
6、代理模式和装饰模式的区别
7、建造者模式和工厂模式的区别
8、线程池运行的线程和队列中等待的线程是同一个吗
9、Spring的事件机制

---

 面试美团
1.Https协议的调用过程
2.CountDownLatch和CyclicBarrier的区别
3.mysql为什么要用B+树做索引
4.简述一下spring中的IOC和AOP
5.java内存模型 

---

 如何处理高并发 

---

 ThreadLocal中存储的对象 存储在堆还是栈？ 

---

 1、spring如何处理线程并发问题？
2、mongodb一般有哪些面试题 

---

 抢红包，多个人同时抢到最后一个红包，应该怎么处理。 

---

3.16号面试饿了么java专家，这里整理一下面试的问题，一方面供大家参考，另一方面自己复盘：

1.数据库事务的隔离级别？

2.事务的几大特性，并谈一下实现原理

3.如何用redis实现消息的发布订阅？

4.java为什么要在内存结构中设计自己的程序计数器，为什么不使用内核的？

5.分布式事务2pc的过程？

6.redis是单线程的，为什么会这么快？

7.谈谈nio的实现，以及netty是如何设计的？

8.微服务化的时候，什么时候应该拆分，什么情况应该合并

9.什么时候应该使用消息，什么时候适合接口调用？

10.分库分表中如果让你设计全局id，如何设计，我回答雪花算法，继续问，百度对雪花算法的优化了解过没，一脸懵逼

11.redis如何进行单机热点数据的统计？

12.redis集群中新加节点以后，如何给新节点分配数据？

13.如何从含有100亿个整数的文件中找出其中最大的100个？

===========================================

上面这些基本都是课程内容所涵盖的，下面的一些业务场景比较撩人，我就在下面这些问题中翻的车

===========================================

1.银行转账场景中，如果要你对转账这块功能进行设计，你会重点考虑哪些问题？

2.银行转账场景中，a,b同时互转你该如何设计？

3.银行转账场景，并发向某一个账户转账（或者转出），该如何设计？

4.如何实现安全的减库存？我回答用消息最终一致，库存量缓存到redis，每次生成消息前先减缓存，接着问，像淘宝这种平台，某个热销商品，qps很高的情况下，又该如何设计？

---

 Spring创建bean实例化的过程 

---

4G一行一数字 排序 

---

 tomcat的启动流程，启动机制？ 

---

 1.HashMap为什么线程不安全？怎样才能让HashMap变的线程安全？
2.MySQL索引的原理是什么？
3.linux常用的命令有哪些？ 

---

 wait方法为什么要在同步块中执行 

---

 Java虚拟机启动内存参数 

---

 用html 写一个音乐播放器，你会怎么设计，需要多久？ 

---

 面试vivo：
1.你们Tomcat优化是怎么样的？
2.用过什么数据结构？比如HashMap，ConcurrentHashMap（分段锁保证线程安全），他们原理是讲一下。
3.你们Redis在项目中是怎么用的？用来做过什么，缓存，队列，分布式锁讲一下怎么实现的，高级特性用过哪些？LRU，Bitmap，Pipeline,HyperLogLog,Geospatial.使用过程中遇到什么问题讲一下。
4.Bean 生命周期？
5.JVM什么时候回full GC？
6.SQL优化问题？索引怎么用的
7.如何避免死锁？
8.你们项目中有用过多线程或者线程池吗？有的话可以讲一下
9.讲一下你在工作中遇到最难的问题是什么？怎么解决的…
大概面试50分钟，回答比较浅 

---

 第一年工作的时候 被一个问题问懵了：
java的面相向象和javascript的面向对象有什么区别？ 

---

 解释下SPI是怎么回事 

---

 为什么实体implements Serializable接口。就会被序列化？ 某视频网站面试题 



#### 参考文章

-  互帮互助——那些年遇到的面试题 ： https://gper.club/answers/7e7e7f7ff3g5fgc6g6c 