### 1. HTTP常用状态码？

![alt](计算机网络-面试整理.assets/D2B5CA33BD970F64A6301FA75AE2EB22.png)

「200 OK」是最常见的成功状态码，表示一切正常。如果是非 HEAD 请求，服务器返回的响应头都会有 body 数据。

「404 Not Found」表示请求的资源在服务器上不存在或未找到，所以无法提供给客户端。

### 2. TCP 三次握手？

**过程**：首先客户端向服务器发送连接请求（SYN报文），然后服务器接收到请求后发送确认信息（ACK报文）并同时向客户端发送连接请求（SYN报文），最后客户端接收到服务器的确认和连接请求后，再向服务器发送确认信息（ACK报文）。完成这三次握手后，TCP连接就成功建立，双方可以开始数据传输。

<img src="计算机网络-面试整理.assets/D2B5CA33BD970F64A6301FA75AE2EB22-1710226733900-3.png" alt="alt" style="zoom: 33%;" />

### 3. TCP滑动窗口讲一下？

TCP的滑动窗口是一种核心的流量控制机制。它基于窗口的概念，**窗口实际上是一个缓冲区，在这个缓冲区内，发送方被允许在未收到确认的情况下连续发送数据。**窗口的大小定义了发送方可以发送但还未被确认的数据段的最大数量。

滑动窗口的工作原理可以简要概括为以下几个步骤：

1. **建立连接时的窗口大小协商**：在TCP三次握手建立连接的过程中，双方会交换窗口大小的信息，以确定初始的窗口大小。
2. **数据的发送与确认**：发送方根据窗口大小发送数据。每当接收方成功接收到一个数据段，它就会向发送方发送一个确认（ACK）报文，表明已成功接收到数据并准备好接收更多数据。
3. **窗口的滑动**：随着数据被发送和确认，窗口会“滑动”。具体来说，当发送方收到一个确认报文时，它会将窗口的起始点向前移动到已确认数据的下一个未被确认的数据段。这样，窗口内就包含了新的未发送但可以发送的数据段。
4. **窗口大小的调整**：滑动窗口的大小可以根据接受放的处理能力来进行流量控制。如果处理能力下降，接收方可能会减小窗口大小；如果状况良好，接收方可能会增大窗口大小，以允许更快的数据传输。
5. **数据的重传**：如果发送方在一段时间内没有收到某个数据段的确认，它会假设该数据段丢失，并重新发送该数据段。重新发送的触发通常是基于一个计时器，该计时器会在发送数据段时启动，并在未收到确认时超时。

### 4. TCP三次握手 为什么要3次，两次或者四次不行吗

> TCP 建立连接时，通过三次握手能**防止历史连接的建立，能减少双方不必要的资源开销，能帮助双方同步初始化序列号**。序列号能够保证数据包不重复、不丢弃和按序传输。
>
> **不使用「两次握手」和「四次握手」的原因：**
>
> - 「两次握手」：**无法防止历史连接的建立，会造成双方资源的浪费，**也无法可靠的同步双方序列号；
> - 「四次握手」：**三次握手就已经理论上最少可靠连接建立，**所以不需要使用更多的通信次数。

### 5. TCP和UDP

UDP和TCP的区别：

1.连接方式：TCP是面向连接的协议，意味着在发送数据之前，需要在发送方和接收方之间建立一条连接。而UDP则是无连接的协议，发送数据之前不需要建立连接，因此可以减少一些额外的开销。

2.可靠性：TCP是可靠的协议，通过校验和、序列号、确认应答、重发控制、连接管理以及窗口控制等机制实现可靠性传输。而UDP则尽最大努力交付，不保证可靠交付，因此可能会出现数据丢失或重复的情况。

3.传输效率：由于TCP需要建立连接、保证数据可靠性和顺序性，所以相对于UDP来说，其传输效率较低。而UDP则由于其简单、无连接的特性，传输效率较高，适用于对高速传输和实时性有较高要求的场景。

4.应用场景：TCP协议适用于需要可靠传输的场景，如文件传输、网页浏览等。而UDP协议则更适用于对实时性要求较高的场景，如在线直播、视频会议、实时游戏等。

### 6. 网络分层

```cmd
+----------------------+  +---------------------+
|      应用层         |    |      应用层         |
+----------------------+  +---------------------+
|      表示层         |    |                     |
+----------------------+  |                     |
|      会话层         |    |       应用层        |
+----------------------+  |                     |
|      传输层         |    +---------------------+
+----------------------+  |       传输层        |
|      网络层         |    +---------------------+
+----------------------+  |       网络层        |
|      数据链路层     |    +---------------------+
+----------------------+  |     网络接口层     |
|      物理层         |    +---------------------+
+----------------------+  |       物理层        |
                          +---------------------+
```

![606F64DA-3F29-4B10-A95A-FCB4D7195283](https://fastly.jsdelivr.net/gh/52chen/imagebed2023@main/uPic/606F64DA-3F29-4B10-A95A-FCB4D7195283.jpeg)

### 7. TCP报文段结构

源端口号和目的端口号：标识发送方和接收方的端口。
序列号：标识数据字节的顺序。
确认号：确认已接收数据的序列号。
数据偏移：指示头部的长度。
控制位：包括URG、ACK、PSH、RST、SYN、FIN等标志，用于管理数据传输。
窗口大小：控制发送方的传输速度，防止接收方溢出。
校验和：检查数据在传输过程中的完整性。
紧急指针：指示紧急数据的位置（如果URG标志被设置）。
选项：支持高级功能，如MSS、窗口扩大因子等。
填充：确保头部长度为32位字的整数倍。

![alt](https://cdn.jsdelivr.net/gh/52chen/imagebed2023@main/picgo/D2B5CA33BD970F64A6301FA75AE2EB22)

### 8. 网络层的职责是什么？网络接口层的职责是什么？

1. 网络接口层（Network Interface Layer）

- 职责：这一层负责处理与物理网络的接口细节，包括发送和接收数据帧。它对应于OSI模型中的物理层和数据链路层。在这一层，数据的单位称为帧（frame）。
- 功能：负责接收IP数据报并添加头部和尾部，然后通过网络发送；或者从网络上接收物理数据帧，抽出IP数据报交给网络层。此外，它还负责地址解析（如ARP协议）、错误检测和流量控制。

2. 网络层（Network Layer）

- 职责：网络层负责处理数据包在网络中的路由选择，确保数据包能够从源主机传输到目的主机。在这一层，数据的单位称为数据包（packet）。
- 功能：实现数据包的路由选择和转发，处理拥塞控制，以及为传输层提供端到端的逻辑通信。

### 9. IP寻址和MAC寻址有什么不同？有了MAC地址为什么还要IP地址？

IP是OSI模型的网络层，是逻辑地址，进行路由的，允许跨越网络通信，MAC是OSI模型的数据链路层，进行帧转转发的，全球每个设备的MAC都不一样，是局域网中直接传输。

因为MAC地址虽然可以唯一标识网络设备，但它无法在不同网络之间进行通信。而IP地址则可以实现跨网络的通信，使得位于不同地理位置、使用不同网络技术的设备都能够相互通信。此外，IP地址还可以提供层次化的地址结构，使得网络管理更加便捷和高效



### 10. 如何理解TCP的拥塞控制、流量控制，两者有什么区别，分别是为了保护谁的？

- **拥塞控制**：在网络出现拥堵时，如果继续发送大量数据包，可能会导致数据包时延、丢失等，这时 TCP 就会重传数据，但是一重传就会导致网络的负担更重，于是会导致更大的延迟以及更多的丢包，这个情况就会进入恶性循环被不断地放大。（所以控制的目的就是避免「发送方」的数据填满整个网络。）（**保护发送方**）
- **流量控制**：发送方不能无脑的发数据给接收方，要考虑接收方处理能力。如果一直无脑的发数据给对方，但对方处理不过来，那么就会导致数据丢失，触发重发机制，从而导致网络流量的无端的浪费。（流量控制是避免「发送方」的数据填满「接收方」的缓存）（**保护接受方**）

| 类别     | TCP拥塞控制                      | TCP流量控制                  |
| -------- | -------------------------------- | ---------------------------- |
| 目的     | 避免网络拥塞，调整发送速率       | 控制数据接收方的数据接收速率 |
| 保护对象 | 数据发送                         | 数据接收方                   |
| 实现原理 | 基于网络拥塞信号进行调整         | 基于接收端的反馈进行调整     |
| 策略     | 慢启动、拥塞避免、快重传、快恢复 | 滑动窗口、确认应答延迟等     |
