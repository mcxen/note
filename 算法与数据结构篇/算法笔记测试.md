# 758ã€å­—ç¬¦ä¸²ä¸­çš„åŠ ç²—å•è¯

ç»™å®šä¸€ä¸ªå…³é”®è¯é›†åˆÂ `words`Â å’Œä¸€ä¸ªå­—ç¬¦ä¸²Â `s`ã€‚  
è¦æ±‚ï¼šåœ¨æ‰€æœ‰Â `s`Â ä¸­å‡ºç°çš„å…³é”®è¯å‰åä½ç½®ä¸Šæ·»åŠ åŠ ç²—é—­åˆæ ‡ç­¾Â `<b>`Â å’ŒÂ `</b>`ã€‚å¦‚æœä¸¤ä¸ªå­ä¸²æœ‰é‡å éƒ¨åˆ†ï¼Œåˆ™å°†å®ƒä»¬ä¸€èµ·ç”¨ä¸€å¯¹é—­åˆæ ‡ç­¾åŒ…å›´èµ·æ¥ã€‚åŒç†ï¼Œå¦‚æœä¸¤ä¸ªå­å­—ç¬¦ä¸²è¿ç»­è¢«åŠ ç²—ï¼Œé‚£ä¹ˆä½ ä¹Ÿéœ€è¦æŠŠå®ƒä»¬åˆèµ·æ¥ç”¨ä¸€å¯¹åŠ ç²—æ ‡ç­¾åŒ…å›´ã€‚æœ€åè¿”å›æ·»åŠ åŠ ç²—æ ‡ç­¾åçš„å­—ç¬¦ä¸²Â `s`ã€‚

æ€è·¯ï¼š  
å…ˆä½¿ç”¨ä¸€ä¸ªæ•°ç»„isBoldä¿å­˜Sä¸­çš„æ¯ä¸ªå­—ç¬¦æ˜¯å¦åº”è¯¥åŠ ç²—ï¼Œåˆ¤æ–­çš„æ–¹å¼æ˜¯ï¼Œéå†wordsä¸­çš„æ¯ä¸ªå­—ç¬¦ä¸²ï¼Œæ‰¾å‡ºSä¸­æœ‰å“ªäº›ä½ç½®å’Œå®ƒåŒ¹é…ã€‚  
æ˜¯å¦å¢åŠ æ ‡ç­¾**çš„æ–¹æ³•æ˜¯å½“å‰å­—ç¬¦éœ€è¦åŠ ç²—ï¼Œä½†æ˜¯å…¶å‰é¢çš„å­—ç¬¦ä¸ç”¨åŠ ç²—ï¼Œæˆ–è€…å½“å‰å­—ç¬¦æ˜¯ç¬¬ä¸€ä¸ªå­—ç¬¦ã€‚ æ˜¯å¦å¢åŠ æ ‡ç­¾**çš„æ–¹æ³•æ˜¯å½“å‰å­—ç¬¦éœ€è¦åŠ ç²—ï¼Œä½†æ˜¯å…¶åé¢çš„å­—ç¬¦ä¸ç”¨åŠ ç²—ï¼Œæˆ–è€…å½“å‰å­—ç¬¦æ˜¯æœ€åä¸€ä¸ªå­—ç¬¦ã€‚

```java
public class Huawei {
    public static void main(String[] args) {
        String[] words = {"asas","dsw","12"};
        String s = "asasdsdasd12121";
        new Huawei().BoldWords(words,s);
    }
    static void BoldWords(String[] words,String s){
        int len = s.length();
        boolean[] isBold = new boolean[len+1];
        for (String word : words) {
            for (int i = 0; i < len-word.length(); i++) {
                String subs = s.substring(i, i+word.length());
                if (subs.equals(word)){
                    for (int j = i; j < i + word.length(); j++) {
                        isBold[j] = true;
                    }
                }
            }
        }
        StringBuilder sb = new StringBuilder();
        for (int i = 0; i < len; i++) {
            if (isBold[i]&&(i==0||!isBold[i-1])) sb.append("<br>");
            //å¦‚æœå½“å‰ä¸ºåŠ é†‹ï¼Œå‰é¢ä¸æ˜¯åŠ ç²—ï¼Œæˆ–è€…å‰é¢æ˜¯i==0ï¼›
            sb.append(s.charAt(i));
            if (isBold[i]&&(i==len-1||!isBold[i+1])) sb.append("</br>");
        }
        System.out.println(sb.toString());
    }
}

```

è¿è¡Œç»“æœï¼š

```latex
<br>asas</br>dsdasd<br>1212</br>1
```

# 

ä¸€ã€æ•°æ®ç»“æ„é—®é¢˜

## 

å­—ç¬¦ä¸²ç›¸å…³é—®é¢˜

> æ¯éš”8ä¸ªè¾“å‡ºä¸€ä¸‹

```java
String ss = sb.toString();
while (ss.length()>0) {
    System.out.println(ss.substring(0,8));
    ss = ss.substring(8);
}
```

### 

HJ4 å­—ç¬¦ä¸²åˆ†éš”

æè¿°  
â€¢è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¯·æŒ‰é•¿åº¦ä¸º8æ‹†åˆ†æ¯ä¸ªè¾“å…¥å­—ç¬¦ä¸²å¹¶è¿›è¡Œè¾“å‡ºï¼›  
â€¢é•¿åº¦ä¸æ˜¯8æ•´æ•°å€çš„å­—ç¬¦ä¸²è¯·åœ¨åé¢è¡¥æ•°å­—0ï¼Œç©ºå­—ç¬¦ä¸²ä¸å¤„ç†ã€‚  
è¾“å…¥æè¿°ï¼š  
è¿ç»­è¾“å…¥å­—ç¬¦ä¸²(æ¯ä¸ªå­—ç¬¦ä¸²é•¿åº¦å°äºç­‰äº100)  
è¾“å‡ºæè¿°ï¼š  
ä¾æ¬¡è¾“å‡ºæ‰€æœ‰åˆ†å‰²åçš„é•¿åº¦ä¸º8çš„æ–°å­—ç¬¦ä¸²  
ç¤ºä¾‹1  
è¾“å…¥ï¼š

```
abc
```

è¾“å‡ºï¼š

```
abc00000
```

```java
    public static void main(String[] args) {
        Scanner in = new Scanner(System.in);
        // æ³¨æ„ hasNext å’Œ hasNextLine çš„åŒºåˆ«
        while (in.hasNext()) { // æ³¨æ„ while å¤„ç†å¤šä¸ª case
            String s = in.next();
            StringBuilder sb = new StringBuilder();
            sb.append(s);
            int addZeroNum = 8-sb.length()%8;
            while (addZeroNum>0&&addZeroNum<8) {
                sb.append('0');
                addZeroNum--;
            }
            String ss = sb.toString();
            while (ss.length()>0) {
                System.out.println(ss.substring(0,8));
                ss = ss.substring(8);
            }
        }
    }
```

## 

æ•°ç»„é—®é¢˜

### 

41. ç¼ºå¤±çš„ç¬¬ä¸€ä¸ªæ­£æ•´æ•°

ç»™ä½ ä¸€ä¸ªæœªæ’åºçš„æ•´æ•°æ•°ç»„Â `nums`Â ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­æ²¡æœ‰å‡ºç°çš„æœ€å°çš„æ­£æ•´æ•°ã€‚

è¯·ä½ å®ç°æ—¶é—´å¤æ‚åº¦ä¸ºÂ `O(n)`Â å¹¶ä¸”åªä½¿ç”¨å¸¸æ•°çº§åˆ«é¢å¤–ç©ºé—´çš„è§£å†³æ–¹æ¡ˆã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [1,2,0]
è¾“å‡ºï¼š3
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnums = [3,4,-1,1]
è¾“å‡ºï¼š2
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šnums = [7,8,9,11,12]
è¾“å‡ºï¼š1
```

```java
class Solution {
    public int firstMissingPositive(int[] nums) {
        //æœ€å°çš„æ­£æ•´æ•°ï¼Œéå†
        int len = nums.length;
        for (int i = 0; i < len; i++) {
            while (nums[i]>0 && nums[i]<=len && nums[i]!=nums[nums[i]-1]){
                //  1 2 3 0 4
                //  - - - ! -
                // 4åº”è¯¥åœ¨ä¸‹æ ‡3çš„ä½ç½®
                int j = nums[i] - 1;
                int temp = nums[i];
                nums[i] = nums[j];
                nums[j] = temp;
            }
        }
        for (int i = 0; i < len; i++) {
            if (nums[i]!=i+1){
                return i+1;//å¦‚æœå½“å‰ä½ç½®ä¸å­˜åœ¨å¯¹åº”çš„åˆç†çš„å€¼ï¼Œå°±è¿”å›
            }
        }
        return len+1;
    }
}
```

### 

HJ3.**æ˜æ˜çš„éšæœºæ•°**

æè¿°

æ˜æ˜ç”Ÿæˆäº†ï¿½_N_ä¸ª1åˆ°500ä¹‹é—´çš„éšæœºæ•´æ•°ã€‚è¯·ä½ åˆ å»å…¶ä¸­é‡å¤çš„æ•°å­—ï¼Œå³ç›¸åŒçš„æ•°å­—åªä¿ç•™ä¸€ä¸ªï¼ŒæŠŠå…¶ä½™ç›¸åŒçš„æ•°å»æ‰ï¼Œç„¶åå†æŠŠè¿™äº›æ•°ä»å°åˆ°å¤§æ’åºï¼ŒæŒ‰ç…§æ’å¥½çš„é¡ºåºè¾“å‡ºã€‚

æ•°æ®èŒƒå›´ï¼š 1â‰¤ï¿½â‰¤1000 1â‰¤_n_â‰¤1000 ï¼Œè¾“å…¥çš„æ•°å­—å¤§å°æ»¡è¶³ 1â‰¤ï¿½ï¿½ï¿½â‰¤500 1â‰¤_v**a**l_â‰¤500

è¾“å…¥æè¿°ï¼š

ç¬¬ä¸€è¡Œå…ˆè¾“å…¥éšæœºæ•´æ•°çš„ä¸ªæ•° N ã€‚ æ¥ä¸‹æ¥çš„ N è¡Œæ¯è¡Œè¾“å…¥ä¸€ä¸ªæ•´æ•°ï¼Œä»£è¡¨æ˜æ˜ç”Ÿæˆçš„éšæœºæ•°ã€‚ å…·ä½“æ ¼å¼å¯ä»¥å‚è€ƒä¸‹é¢çš„"ç¤ºä¾‹"ã€‚

è¾“å‡ºæè¿°ï¼š

è¾“å‡ºå¤šè¡Œï¼Œè¡¨ç¤ºè¾“å…¥æ•°æ®å¤„ç†åçš„ç»“æœ

ç¤ºä¾‹1

è¾“å…¥ï¼š

```
3
2
2
1
```

è¾“å‡ºï¼š

```
1
2
```

è¯´æ˜ï¼š

```
è¾“å…¥è§£é‡Šï¼š
ç¬¬ä¸€ä¸ªæ•°å­—æ˜¯3ï¼Œä¹Ÿå³è¿™ä¸ªå°æ ·ä¾‹çš„N=3ï¼Œè¯´æ˜ç”¨è®¡ç®—æœºç”Ÿæˆäº†3ä¸ª1åˆ°500ä¹‹é—´çš„éšæœºæ•´æ•°ï¼Œæ¥ä¸‹æ¥æ¯è¡Œä¸€ä¸ªéšæœºæ•°å­—ï¼Œå…±3è¡Œï¼Œä¹Ÿå³è¿™3ä¸ªéšæœºæ•°å­—ä¸ºï¼š
2
2
1
æ‰€ä»¥æ ·ä¾‹çš„è¾“å‡ºä¸ºï¼š
1
2
```

```java
public class Main {
    public static void main(String[] args) {
        Scanner in = new Scanner(System.in);
        // æ³¨æ„ hasNext å’Œ hasNextLine çš„åŒºåˆ«
        while (in.hasNext()) { // æ³¨æ„ while å¤„ç†å¤šä¸ª case
            int n = in.nextInt();
            int[] nums = new int[501];
            for(int i = 0;i<n;i++){
                int next = in.nextInt();
                // System.out.println(next);
                nums[next] =1 ;
            }
            for(int i = 0;i<501;i++){
                if (nums[i]==1) {
                    System.out.println(i);
                }
            }
            
        }
    }
}
```

## 

é“¾è¡¨é—®é¢˜

> LRUç¼“å­˜ï¼š`**int oldestKey = cache.keySet().iterator().next();**`ï¼š è¿™ä¸€è¡Œä»£ç å®šä¹‰äº†ä¸€ä¸ªåä¸º`oldestKey`çš„æ•´å‹å˜é‡ï¼Œå¹¶å°†å…¶åˆå§‹åŒ–ä¸º`cache`é”®é›†çš„ç¬¬ä¸€ä¸ªé”®ã€‚è¿™é‡Œçš„å˜é‡å`oldestKey`æš—ç¤ºç€è¿™ä¸ªé”®æ˜¯â€œæœ€æ—§â€çš„ï¼Œå¯èƒ½æ˜¯æŒ‰æ’å…¥é¡ºåºæ¥çœ‹çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œç‰¹åˆ«æ˜¯åœ¨ä½¿ç”¨`LinkedHashMap`è¿™æ ·å¯ä»¥ä¿æŒæ’å…¥é¡ºåºçš„`Map`å®ç°æ—¶ã€‚ä¸è¿‡ï¼Œå¦‚æœä½¿ç”¨çš„æ˜¯`HashMap`ï¼Œåˆ™ä¸èƒ½ä¿è¯è¿™ä¸ªé”®æ˜¯æœ€æ—§çš„ï¼Œå› ä¸º`HashMap`ä¸ä¿è¯ä»»ä½•é¡ºåºã€‚

### 

[146. LRU ç¼“å­˜](https://leetcode.cn/problems/lru-cache/)

è¯·ä½ è®¾è®¡å¹¶å®ç°ä¸€ä¸ªæ»¡è¶³Â [LRU (æœ€è¿‘æœ€å°‘ä½¿ç”¨) ç¼“å­˜](https://baike.baidu.com/item/LRU)Â çº¦æŸçš„æ•°æ®ç»“æ„ã€‚

å®ç°Â `LRUCache`Â ç±»ï¼š

- `LRUCache(int capacity)`Â ä»¥Â **æ­£æ•´æ•°**Â ä½œä¸ºå®¹é‡Â `capacity`Â åˆå§‹åŒ– LRU ç¼“å­˜
- `int get(int key)`Â å¦‚æœå…³é”®å­—Â `key`Â å­˜åœ¨äºç¼“å­˜ä¸­ï¼Œåˆ™è¿”å›å…³é”®å­—çš„å€¼ï¼Œå¦åˆ™è¿”å›Â `-1`Â ã€‚
- `void put(int key, int value)`Â å¦‚æœå…³é”®å­—Â `key`Â å·²ç»å­˜åœ¨ï¼Œåˆ™å˜æ›´å…¶æ•°æ®å€¼Â `value`Â ï¼›å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™å‘ç¼“å­˜ä¸­æ’å…¥è¯¥ç»„Â `key-value`Â ã€‚å¦‚æœæ’å…¥æ“ä½œå¯¼è‡´å…³é”®å­—æ•°é‡è¶…è¿‡Â `capacity`Â ï¼Œåˆ™åº”è¯¥Â **é€å‡º**Â æœ€ä¹…æœªä½¿ç”¨çš„å…³é”®å­—ã€‚

å‡½æ•°Â `get`Â å’ŒÂ `put`Â å¿…é¡»ä»¥Â `O(1)`Â çš„å¹³å‡æ—¶é—´å¤æ‚åº¦è¿è¡Œã€‚

**ç¤ºä¾‹ï¼š**

```
è¾“å…¥
["LRUCache", "put", "put", "get", "put", "get", "put", "get", "get", "get"]
[[2], [1, 1], [2, 2], [1], [3, 3], [2], [4, 4], [1], [3], [4]]
è¾“å‡º
[null, null, null, 1, null, -1, null, -1, 3, 4]

è§£é‡Š
LRUCache lRUCache = new LRUCache(2);
lRUCache.put(1, 1); // ç¼“å­˜æ˜¯ {1=1}
lRUCache.put(2, 2); // ç¼“å­˜æ˜¯ {1=1, 2=2}
lRUCache.get(1);    // è¿”å› 1
lRUCache.put(3, 3); // è¯¥æ“ä½œä¼šä½¿å¾—å…³é”®å­— 2 ä½œåºŸï¼Œç¼“å­˜æ˜¯ {1=1, 3=3}
lRUCache.get(2);    // è¿”å› -1 (æœªæ‰¾åˆ°)
lRUCache.put(4, 4); // è¯¥æ“ä½œä¼šä½¿å¾—å…³é”®å­— 1 ä½œåºŸï¼Œç¼“å­˜æ˜¯ {4=4, 3=3}
lRUCache.get(1);    // è¿”å› -1 (æœªæ‰¾åˆ°)
lRUCache.get(3);    // è¿”å› 3
lRUCache.get(4);    // è¿”å› 4
```

è¦è®© put å’Œ get æ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(1)ï¼Œæˆ‘ä»¬å¯ä»¥æ€»ç»“å‡º cache è¿™ä¸ªæ•°æ®ç»“æ„å¿…è¦çš„æ¡ä»¶ï¼š

1ã€æ˜¾ç„¶ cache ä¸­çš„å…ƒç´ å¿…é¡»æœ‰æ—¶åºï¼Œä»¥åŒºåˆ†æœ€è¿‘ä½¿ç”¨çš„å’Œä¹…æœªä½¿ç”¨çš„æ•°æ®ï¼Œå½“å®¹é‡æ»¡äº†ä¹‹åè¦åˆ é™¤æœ€ä¹…æœªä½¿ç”¨çš„é‚£ä¸ªå…ƒç´ è…¾ä½ç½®ã€‚

2ã€æˆ‘ä»¬è¦åœ¨ cache ä¸­å¿«é€Ÿæ‰¾æŸä¸ª key æ˜¯å¦å·²å­˜åœ¨å¹¶å¾—åˆ°å¯¹åº”çš„ valï¼›

3ã€æ¯æ¬¡è®¿é—® cache ä¸­çš„æŸä¸ª keyï¼Œéœ€è¦å°†è¿™ä¸ªå…ƒç´ å˜ä¸ºæœ€è¿‘ä½¿ç”¨çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ cache è¦æ”¯æŒåœ¨ä»»æ„ä½ç½®å¿«é€Ÿæ’å…¥å’Œåˆ é™¤å…ƒç´ ã€‚

é‚£ä¹ˆï¼Œä»€ä¹ˆæ•°æ®ç»“æ„åŒæ—¶ç¬¦åˆä¸Šè¿°æ¡ä»¶å‘¢ï¼Ÿ**å“ˆå¸Œè¡¨æŸ¥æ‰¾å¿«ï¼Œä½†æ˜¯æ•°æ®æ— å›ºå®šé¡ºåºï¼›é“¾è¡¨æœ‰é¡ºåºä¹‹åˆ†ï¼Œæ’å…¥åˆ é™¤å¿«ï¼Œä½†æ˜¯æŸ¥æ‰¾æ…¢ã€‚**æ‰€ä»¥ç»“åˆä¸€ä¸‹ï¼Œå½¢æˆä¸€ç§æ–°çš„æ•°æ®ç»“æ„ï¼š`å“ˆå¸Œé“¾è¡¨ LinkedHashMap`ã€‚

```java
class LRUCache {
    int cap;
    LinkedHashMap<Integer,Integer> cache = new LinkedHashMap<>();
    public LRUCache(int capacity) {
        this.cap = capacity;
    }
    
    public int get(int key) {
        if(!cache.containsKey(key)){
            return -1;
        }
        int val = cache.get(key);
        cache.remove(key);
        cache.put(key,val);//å†æ¬¡æ’å…¥å°±å®ç°äº†æœ€æ–°çš„ä½¿ç”¨çš„æ ‡è®°
        return cache.get(key);
    }
    
    public void put(int key, int value) {
        if(cache.containsKey(key)){
            cache.put(key,value);
            int val = cache.get(key);
            cache.remove(key);
            cache.put(key,val);//å†æ¬¡æ’å…¥
            return;
        }
        if(cache.size()>=cap){
            //ä½¿ç”¨iterator()æ–¹æ³•è·å–è¿­ä»£å™¨ï¼Œå¯ä»¥éå†é›†åˆä¸­çš„å…ƒç´ ã€‚next()æ–¹æ³•ç”¨äºè¿”å›ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œå³è·å–æœ€æ—©çš„é”®ã€‚
            int oldestKey = cache.keySet().iterator().next();
            cache.remove(oldestKey);
        }
        cache.put(key,value);
        return;
    }
}
```

> ç”¨ LinkedHashMap å¯ä»¥å¾ˆå®¹æ˜“å®ç° LRU ç¼“å­˜ï¼Œä¸è¿‡é¢è¯•çš„æ—¶å€™ä¼°è®¡è¿™æ ·ä¸å¥½ï¼Œè¿˜æ˜¯å°½é‡è‡ªå·±å®ç°æ•°æ®ç»“æ„å§ğŸ¤£
> 
> ä¸»è¦æƒ³æ³•æ˜¯ä½¿ç”¨ JDK æä¾›çš„ HashMapï¼Œç„¶åè‡ªå·±å†™ä¸€ä¸ª Node èŠ‚ç‚¹ç±»ï¼Œç”¨æ¥ä¿å­˜ value ï¼Œå¹¶ä¸”é€šè¿‡è¿™ä¸ª Node é‡Œé¢çš„ prevã€next æŒ‡é’ˆå°†å„ä¸ªå€¼ä¸²è”èµ·æ¥ï¼Œè¿™æ ·å°±ç»´æŠ¤äº†é¡ºåºã€‚
> 
> å¾ˆé‡è¦çš„ä¸€ä¸ªç»†èŠ‚æ˜¯ï¼ŒNode é‡Œé¢è¿˜è¦åŠ ä¸Š key ï¼ˆå°½ç®¡ HashMap æœ¬æ¥å°±å­˜äº†ä¸€ä»½ï¼‰ã€‚
> 
> åŸå› æ˜¯å½“ç¼“å­˜è¾¾åˆ°å®¹é‡ä¸Šé™æ—¶ï¼Œå°±è¦å…ˆç§»é™¤å°¾éƒ¨çš„èŠ‚ç‚¹ï¼Œè¿™ä¸ªæ—¶å€™å¦‚æœåªç§»é™¤é“¾è¡¨çš„ tail èŠ‚ç‚¹ï¼Œå¿½ç•¥äº† HasmMap ä¹Ÿè¦ remove ï¼Œåé¢å†è®¿é—®è¿™ä¸ªè¢«ç§»é™¤çš„ key å°±ä¼šé€ æˆç©ºæŒ‡é’ˆå¼‚å¸¸ï¼ï¼ï¼
> 
> æ‰€ä»¥æˆ‘ä»¬åœ¨ Node èŠ‚ç‚¹é‡Œé¢åŠ ä¸Š key ï¼Œåˆ æ‰ tail ä¹‹å‰å…ˆ remove æ‰ HasmMap çš„è¿™ä¸ª keyï¼Œå°±å¾ˆæ–¹ä¾¿äº†ã€‚
> 
> ä¸é€‚ç”¨LinkedList:  

```java
import java.util.*;
public class Solution {
    private int capacity;
    private Map<Integer,Node> map;
    private Node head;
    private Node tail;
    private int used;
    class Node{
        int key;
        int value;
        Node prev;
        Node next;
        Node(int key,int value,Node prev,Node next){
            this.key = key;
            this.value = value;
            this.prev = prev;
            this.next = next;
        }
    }
 public Solution(int capacity) {
    //æ„é€ å‡½æ•°
    this.capacity = capacity;
    this.map =  new HashMap<>();
    this.used= 0;
 }
 public int get(int key) {
 // write code here
    if(!map.containsKey(key)){
        return -1;
    }
    makeRecently(key);
    return map.get(key).value;
 }
 public void set(int key, int value) {
 // write code here
    if(map.containsKey(key)){
        map.get(key).value = value;
        makeRecently(key);
        return;
    }
    if(used==capacity){
        map.remove(tail.key);
        tail = tail.prev;
        tail.next = null;
        used--;
    }
    if(head==null){
        head = new Node(key,value,null,null);
        tail = head;
    }
    else{
        //headä¸ä¸ºç©º
        Node t = new Node(key,value,null,head);
        head.prev = t;
        head = t;
    }
    map.put(key,head);
    used++;
 }
 private void makeRecently(int key){
    Node t = map.get(key);
    if(t!=head){
        if(t==tail){
            tail = tail.prev;
            tail.next = null;
        }else{
            t.prev.next = t.next;//å°†tè·³è¿‡äº†
            t.next.prev = t.prev;//å°†nextçš„å‘å‰æŒ‡çš„é¡ºåºçº æ­£
        }
        t.prev = null;
        t.next = head;
        head.prev = t;
        head =t;
    }
 }
}
```

### 

å®ç°ä¸€ä¸ªcacheï¼ŒåŒ…æ‹¬LRUç®—æ³•å’Œåœ¨xç§’åè¿‡æœŸ

```java
import java.util.LinkedHashMap;  
import java.util.Map;  
import java.util.concurrent.ScheduledExecutorService;  
import java.util.concurrent.Executors;  
import java.util.concurrent.TimeUnit;  
  
public class LRUCacheWithExpiration<K, V> {  
    // ç¼“å­˜çš„æœ€å¤§å®¹é‡  
    private final int capacity;  
    // ç¼“å­˜é¡¹çš„è¿‡æœŸæ—¶é—´ï¼ˆç§’ï¼‰  
    private final long expirationTimeInSeconds;  
    // ä½¿ç”¨LinkedHashMapå®ç°LRUç¼“å­˜ï¼ŒaccessOrderè®¾ç½®ä¸ºtrueä»¥å¯ç”¨LRUé¡ºåº  
    private final LinkedHashMap<K, CacheEntry<V>> cacheMap;  
    // å®šæ—¶ä»»åŠ¡æ‰§è¡Œå™¨ï¼Œç”¨äºæ¸…ç†è¿‡æœŸçš„ç¼“å­˜é¡¹  
    private final ScheduledExecutorService expirationExecutor;  
  
    // å†…éƒ¨ç±»CacheEntryï¼Œç”¨äºå­˜å‚¨ç¼“å­˜å€¼å’Œè¿‡æœŸæ—¶é—´  
    private static class CacheEntry<V> {  
        V value;  
        long expirationTime;  
  
        CacheEntry(V value, long expirationTime) {  
            this.value = value;  
            this.expirationTime = expirationTime;  
        }  
    }  
  
    // æ„é€ å‡½æ•°  
    public LRUCacheWithExpiration(int capacity, long expirationTimeInSeconds) {  
        this.capacity = capacity;  
        this.expirationTimeInSeconds = expirationTimeInSeconds;  
        // åˆå§‹åŒ–LRUç¼“å­˜ï¼Œè®¾ç½®accessOrderä¸ºtrueï¼Œä»¥ä¾¿æŒ‰è®¿é—®é¡ºåºè¿›è¡ŒLRUæ“ä½œ  
        this.cacheMap = new LinkedHashMap<>(capacity, 0.75f, true) {  
            // é‡å†™removeEldestEntryæ–¹æ³•ï¼Œå½“Mapå¤§å°è¶…è¿‡æŒ‡å®šå®¹é‡æ—¶ï¼Œåˆ é™¤æœ€è€çš„å…ƒç´   
            @Override  
            protected boolean removeEldestEntry(Map.Entry<K, CacheEntry<V>> eldest) {  
                return size() > LRUCacheWithExpiration.this.capacity;  
            }  
        };  
        // åˆå§‹åŒ–å®šæ—¶ä»»åŠ¡æ‰§è¡Œå™¨  
        this.expirationExecutor = Executors.newSingleThreadScheduledExecutor();  
        // å®‰æ’å®šæ—¶ä»»åŠ¡ï¼Œæ¯éš”expirationTimeInSecondsç§’æ‰§è¡Œä¸€æ¬¡æ¸…ç†è¿‡æœŸç¼“å­˜é¡¹çš„æ“ä½œ  
        this.expirationExecutor.scheduleAtFixedRate(this::evictExpiredEntries, expirationTimeInSeconds, expirationTimeInSeconds, TimeUnit.SECONDS);  
    }  
  
    // è·å–ç¼“å­˜é¡¹  
    public synchronized V get(K key) {  
        CacheEntry<V> entry = cacheMap.get(key);  
        if (entry == null || isExpired(entry.expirationTime)) {  
            // ç¼“å­˜é¡¹ä¸å­˜åœ¨æˆ–å·²è¿‡æœŸï¼Œè¿”å›null  
            return null;  
        }  
        // æ›´æ–°ç¼“å­˜é¡¹çš„è®¿é—®é¡ºåºï¼ˆç§»åˆ°å°¾éƒ¨ï¼Œè¡¨ç¤ºæœ€è¿‘è®¿é—®ï¼‰  
        cacheMap.remove(key);  
        cacheMap.put(key, entry);  
        // è¿”å›ç¼“å­˜å€¼  
        return entry.value;  
    }  
  
    // æ·»åŠ æˆ–æ›´æ–°ç¼“å­˜é¡¹  
    public synchronized void put(K key, V value) {  
        // åˆ›å»ºæ–°çš„ç¼“å­˜é¡¹ï¼Œè®¾ç½®è¿‡æœŸæ—¶é—´  
        CacheEntry<V> newEntry = new CacheEntry<>(value, System.currentTimeMillis() + (expirationTimeInSeconds * 1000));  
        // å°†æ–°çš„ç¼“å­˜é¡¹æ·»åŠ åˆ°LRUç¼“å­˜ä¸­ï¼Œå¦‚æœç¼“å­˜å·²æ»¡ï¼Œåˆ™ä¼šè‡ªåŠ¨åˆ é™¤æœ€è€çš„å…ƒç´   
        cacheMap.put(key, newEntry);  
    }  
  
    // æ¸…ç†è¿‡æœŸç¼“å­˜é¡¹çš„æ–¹æ³•  
    private void evictExpiredEntries() {  
        long currentTime = System.currentTimeMillis();  
        // éå†ç¼“å­˜ï¼Œç§»é™¤å·²è¿‡æœŸçš„ç¼“å­˜é¡¹  
        cacheMap.entrySet().removeIf(entry -> isExpired(entry.getValue().expirationTime));  
    }  
  
    // åˆ¤æ–­ç¼“å­˜é¡¹æ˜¯å¦è¿‡æœŸ  
    private boolean isExpired(long expirationTime) {  
        return expirationTime <= System.currentTimeMillis();  
    }  
  
    // å…³é—­ç¼“å­˜ï¼Œåœæ­¢å®šæ—¶ä»»åŠ¡æ‰§è¡Œå™¨  
    public void close() {  
        expirationExecutor.shutdown();  
        try {  
            if (!expirationExecutor.awaitTermination(60, TimeUnit.SECONDS)) {  
                expirationExecutor.shutdownNow();  
            }  
        } catch (InterruptedException e) {  
            expirationExecutor.shutdownNow();  
            Thread.currentThread().interrupt();  
        }  
    }  
}
```

### 

[61. æ—‹è½¬é“¾è¡¨](https://leetcode.cn/problems/rotate-list/)

ç»™ä½ ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹Â `head`Â ï¼Œæ—‹è½¬é“¾è¡¨ï¼Œå°†é“¾è¡¨æ¯ä¸ªèŠ‚ç‚¹å‘å³ç§»åŠ¨Â `k`Â ä¸ªä½ç½®ã€‚

**ç¤ºä¾‹ 1ï¼š**

![](https://fastly.jsdelivr.net/gh/52chen/imagebed2023@main/uPic/rotate1.jpg#id=bmYtW&originHeight=302&originWidth=712&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)

```
è¾“å…¥ï¼šhead = [1,2,3,4,5], k = 2
è¾“å‡ºï¼š[4,5,1,2,3]
```

```java
class Solution {
    public ListNode rotateRight(ListNode head, int k) {
        if(head==null) return head;
        int n = 1;
        ListNode tail = head;
        while(tail.next!=null){
            tail = tail.next;
            n++;// length
        }
        k = k%n;//é˜²æ­¢é‡å¤ç§»åŠ¨
        if(k<1) return head;
        ListNode fast = head;
        ListNode slow = head;
        while(k-->0){
            fast = fast.next;
        }
        
        while(fast.next!=null){
            fast= fast.next;
            slow = slow.next;
        }
        ListNode newHead = slow.next;
        slow.next = null;
        tail.next = head;
        return newHead;
    }
}
```

### 

[138. éšæœºé“¾è¡¨çš„å¤åˆ¶](https://leetcode.cn/problems/copy-list-with-random-pointer/)

ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸ºÂ `n`Â çš„é“¾è¡¨ï¼Œæ¯ä¸ªèŠ‚ç‚¹åŒ…å«ä¸€ä¸ªé¢å¤–å¢åŠ çš„éšæœºæŒ‡é’ˆÂ `random`Â ï¼Œè¯¥æŒ‡é’ˆå¯ä»¥æŒ‡å‘é“¾è¡¨ä¸­çš„ä»»ä½•èŠ‚ç‚¹æˆ–ç©ºèŠ‚ç‚¹ã€‚

æ„é€ è¿™ä¸ªé“¾è¡¨çš„Â [**æ·±æ‹·è´**](https://baike.baidu.com/item/%E6%B7%B1%E6%8B%B7%E8%B4%9D/22785317?fr=aladdin)ã€‚ æ·±æ‹·è´åº”è¯¥æ­£å¥½ç”±Â `n`Â ä¸ªÂ **å…¨æ–°**Â èŠ‚ç‚¹ç»„æˆï¼Œå…¶ä¸­æ¯ä¸ªæ–°èŠ‚ç‚¹çš„å€¼éƒ½è®¾ä¸ºå…¶å¯¹åº”çš„åŸèŠ‚ç‚¹çš„å€¼ã€‚æ–°èŠ‚ç‚¹çš„Â `next`Â æŒ‡é’ˆå’ŒÂ `random`Â æŒ‡é’ˆä¹Ÿéƒ½åº”æŒ‡å‘å¤åˆ¶é“¾è¡¨ä¸­çš„æ–°èŠ‚ç‚¹ï¼Œå¹¶ä½¿åŸé“¾è¡¨å’Œå¤åˆ¶é“¾è¡¨ä¸­çš„è¿™äº›æŒ‡é’ˆèƒ½å¤Ÿè¡¨ç¤ºç›¸åŒçš„é“¾è¡¨çŠ¶æ€ã€‚**å¤åˆ¶é“¾è¡¨ä¸­çš„æŒ‡é’ˆéƒ½ä¸åº”æŒ‡å‘åŸé“¾è¡¨ä¸­çš„èŠ‚ç‚¹**Â ã€‚

ä¾‹å¦‚ï¼Œå¦‚æœåŸé“¾è¡¨ä¸­æœ‰Â `X`Â å’ŒÂ `Y`Â ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œå…¶ä¸­Â `X.random --> Y`Â ã€‚é‚£ä¹ˆåœ¨å¤åˆ¶é“¾è¡¨ä¸­å¯¹åº”çš„ä¸¤ä¸ªèŠ‚ç‚¹Â `x`Â å’ŒÂ `y`Â ï¼ŒåŒæ ·æœ‰Â `x.random --> y`Â ã€‚

è¿”å›å¤åˆ¶é“¾è¡¨çš„å¤´èŠ‚ç‚¹ã€‚

ç”¨ä¸€ä¸ªç”±Â `n`Â ä¸ªèŠ‚ç‚¹ç»„æˆçš„é“¾è¡¨æ¥è¡¨ç¤ºè¾“å…¥/è¾“å‡ºä¸­çš„é“¾è¡¨ã€‚æ¯ä¸ªèŠ‚ç‚¹ç”¨ä¸€ä¸ªÂ `[val, random_index]`Â è¡¨ç¤ºï¼š

- `val`ï¼šä¸€ä¸ªè¡¨ç¤ºÂ `Node.val`Â çš„æ•´æ•°ã€‚
- `random_index`ï¼šéšæœºæŒ‡é’ˆæŒ‡å‘çš„èŠ‚ç‚¹ç´¢å¼•ï¼ˆèŒƒå›´ä»Â `0`Â åˆ°Â `n-1`ï¼‰ï¼›å¦‚æœä¸æŒ‡å‘ä»»ä½•èŠ‚ç‚¹ï¼Œåˆ™ä¸ºÂ `null`Â ã€‚

ä½ çš„ä»£ç Â **åª**Â æ¥å—åŸé“¾è¡¨çš„å¤´èŠ‚ç‚¹Â `head`Â ä½œä¸ºä¼ å…¥å‚æ•°ã€‚

**ç¤ºä¾‹ 1ï¼š**

![](https://fastly.jsdelivr.net/gh/52chen/imagebed2023@main/uPic/e1.png#id=z1UVT&originHeight=386&originWidth=1900&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)

```
è¾“å…¥ï¼šhead = [[7,null],[13,0],[11,4],[10,2],[1,0]]
è¾“å‡ºï¼š[[7,null],[13,0],[11,4],[10,2],[1,0]]
```

åˆ©ç”¨å“ˆå¸Œè¡¨çš„æŸ¥è¯¢ç‰¹ç‚¹ï¼Œè€ƒè™‘æ„å»º åŸé“¾è¡¨èŠ‚ç‚¹ å’Œ æ–°é“¾è¡¨å¯¹åº”èŠ‚ç‚¹ çš„é”®å€¼å¯¹æ˜ å°„å…³ç³»ï¼Œå†éå†æ„å»ºæ–°é“¾è¡¨å„èŠ‚ç‚¹çš„ next å’Œ random å¼•ç”¨æŒ‡å‘å³å¯ã€‚

ç®—æ³•æµç¨‹ï¼š

- è‹¥å¤´èŠ‚ç‚¹ head ä¸ºç©ºèŠ‚ç‚¹ï¼Œç›´æ¥è¿”å› null ã€‚
- åˆå§‹åŒ–ï¼š å“ˆå¸Œè¡¨ dic ï¼Œ èŠ‚ç‚¹ cur æŒ‡å‘å¤´èŠ‚ç‚¹ã€‚
- å¤åˆ¶é“¾è¡¨ï¼š  
    å»ºç«‹æ–°èŠ‚ç‚¹ï¼Œå¹¶å‘ dic æ·»åŠ é”®å€¼å¯¹ (åŸ cur èŠ‚ç‚¹, æ–° cur èŠ‚ç‚¹ï¼‰ ã€‚  
    cur éå†è‡³åŸé“¾è¡¨ä¸‹ä¸€èŠ‚ç‚¹ã€‚
- æ„å»ºæ–°é“¾è¡¨çš„å¼•ç”¨æŒ‡å‘ï¼š  
    æ„å»ºæ–°èŠ‚ç‚¹çš„ next å’Œ random å¼•ç”¨æŒ‡å‘ã€‚  
    cur éå†è‡³åŸé“¾è¡¨ä¸‹ä¸€èŠ‚ç‚¹ã€‚
- è¿”å›å€¼ï¼š æ–°é“¾è¡¨çš„å¤´èŠ‚ç‚¹ dic[cur] ã€‚

```java
class Solution {
    public Node copyRandomList(Node head) {
        if(head==null) return null;
        Node cur = head;
        Map<Node,Node> map = new HashMap<>();
        while(cur!=null){
            //map storage the new Node
            map.put(cur,new Node(cur.val));
            cur = cur.next;
        }
        cur = head;
        while(cur!=null){
            map.get(cur).next = map.get(cur.next);
            map.get(cur).random = map.get(cur.random);
            cur = cur.next;
        }
        return map.get(head);
    }
}
```

### 

[å‰‘æŒ‡ Offer II 025. é“¾è¡¨ä¸­çš„ä¸¤æ•°ç›¸åŠ ](https://leetcode.cn/problems/lMSNwu/)

ç»™å®šä¸¤ä¸ªÂ **éç©ºé“¾è¡¨**Â `l1`å’ŒÂ `l2`Â æ¥ä»£è¡¨ä¸¤ä¸ªéè´Ÿæ•´æ•°ã€‚æ•°å­—æœ€é«˜ä½ä½äºé“¾è¡¨å¼€å§‹ä½ç½®ã€‚å®ƒä»¬çš„æ¯ä¸ªèŠ‚ç‚¹åªå­˜å‚¨ä¸€ä½æ•°å­—ã€‚å°†è¿™ä¸¤æ•°ç›¸åŠ ä¼šè¿”å›ä¸€ä¸ªæ–°çš„é“¾è¡¨ã€‚

å¯ä»¥å‡è®¾é™¤äº†æ•°å­— 0 ä¹‹å¤–ï¼Œè¿™ä¸¤ä¸ªæ•°å­—éƒ½ä¸ä¼šä»¥é›¶å¼€å¤´ã€‚

**ç¤ºä¾‹1ï¼š**

![image.png](https://cdn.nlark.com/yuque/0/2024/png/1389077/1715474951264-007e6f63-e6f1-4523-be84-8beadab56301.png#averageHue=%23f3f3f3&clientId=u3a18be3a-46a6-4&id=dKGpc&originHeight=342&originWidth=523&originalType=binary&ratio=1&rotation=0&showTitle=false&size=32741&status=done&style=none&taskId=ue2088a6f-5d0d-4adf-a1e6-650ab01b41b&title=)

```
è¾“å…¥ï¼šl1 = [7,2,4,3], l2 = [5,6,4]
è¾“å‡ºï¼š[7,8,0,7]
```

```java
class Solution {
    public ListNode addTwoNumbers(ListNode l1, ListNode l2) {
//        ä½¿ç”¨ä¸¤ä¸ªè¾…åŠ©æ ˆ
        ArrayDeque<Integer> stk1 = new ArrayDeque<>();
        ArrayDeque<Integer> stk2 = new ArrayDeque<>();
        while (l1!=null){
            stk1.push(l1.val);
            l1 = l1.next;
        }
        while (l2!=null){
            stk2.push(l2.val);
            l2 = l2.next;
        }
        int carry = 0;//å‚¨å­˜è¿›ä½
        ListNode res = null;//å‚¨å­˜ç»“æœ
        while (!stk1.isEmpty()||!stk2.isEmpty()||carry!=0) {
            int digit1 = stk1.isEmpty()?0:stk1.pop();
            int digit2 = stk2.isEmpty()?0:stk2.pop();
            int sum = digit1+digit2+carry;
            carry = sum/10;
            sum = sum%10;
            ListNode tmp = new ListNode(sum);
            tmp.next = res;
            res = tmp;
        }
        return res;
    }
}
```

### 

[25. K ä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨](https://leetcode.cn/problems/reverse-nodes-in-k-group/)

ç»™ä½ é“¾è¡¨çš„å¤´èŠ‚ç‚¹Â `head`Â ï¼Œæ¯Â `k`Â ä¸ªèŠ‚ç‚¹ä¸€ç»„è¿›è¡Œç¿»è½¬ï¼Œè¯·ä½ è¿”å›ä¿®æ”¹åçš„é“¾è¡¨ã€‚  
`k`Â æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œå®ƒçš„å€¼å°äºæˆ–ç­‰äºé“¾è¡¨çš„é•¿åº¦ã€‚å¦‚æœèŠ‚ç‚¹æ€»æ•°ä¸æ˜¯Â `k`Â çš„æ•´æ•°å€ï¼Œé‚£ä¹ˆè¯·å°†æœ€åå‰©ä½™çš„èŠ‚ç‚¹ä¿æŒåŸæœ‰é¡ºåºã€‚  
ä½ ä¸èƒ½åªæ˜¯å•çº¯çš„æ”¹å˜èŠ‚ç‚¹å†…éƒ¨çš„å€¼ï¼Œè€Œæ˜¯éœ€è¦å®é™…è¿›è¡ŒèŠ‚ç‚¹äº¤æ¢ã€‚  
**ç¤ºä¾‹ 1ï¼š**

![](https://fastly.jsdelivr.net/gh/52chen/imagebed2023@main/uPic/reverse_ex1.jpg#id=WF3kZ&originHeight=222&originWidth=542&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)

```
è¾“å…¥ï¼šhead = [1,2,3,4,5], k = 2
è¾“å‡ºï¼š[2,1,4,3,5]
```

```java
class Solution {
    public ListNode reverseKGroup(ListNode head, int k) {
        if (head==null||head.next ==null) return head;
        ListNode tail = head;
        for(int i = 0;i<k;i++){
            if(tail==null) return head;
            tail = tail.next;
        }
        ListNode newHead = reverse(head,tail);
        head.next = reverseKGroup(tail,k);//è¿™ä¸ªæ—¶å€™çš„headå°±æ˜¯åè½¬å¥½çš„é˜Ÿå°¾äº†
        return newHead;
    }
    private ListNode reverse(ListNode head,ListNode tail){
        ListNode prev = null;
        ListNode next = null;
        while(head!=tail){
            next = head.next;
            head.next = prev;
            prev = head;
            head = next;
        }
        return prev;//è¿”å›å¤´éƒ¨ï¼Œå°±æ˜¯åè½¬çš„å¤´éƒ¨äº†
    }
}
```

![](https://cdn.jsdelivr.net/gh/52chen/imagebed2023@main/picgo/image-20240320134441671.png#id=o3Znu&originHeight=474&originWidth=828&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)

### 

[å‰‘æŒ‡ Offer II 026. é‡æ’é“¾è¡¨](https://leetcode.cn/problems/LGjMqU/)

ç»™å®šä¸€ä¸ªå•é“¾è¡¨Â `L`Â çš„å¤´èŠ‚ç‚¹Â `head`Â ï¼Œå•é“¾è¡¨Â `L`Â è¡¨ç¤ºä¸ºï¼š

`L0 â†’ L1 â†’ â€¦ â†’ Ln-1 â†’ Ln`  
è¯·å°†å…¶é‡æ–°æ’åˆ—åå˜ä¸ºï¼š

```
L0 â†’ Ln â†’ L1 â†’ Ln-1 â†’ L2 â†’ Ln-2 â†’ â€¦
```

ä¸èƒ½åªæ˜¯å•çº¯çš„æ”¹å˜èŠ‚ç‚¹å†…éƒ¨çš„å€¼ï¼Œè€Œæ˜¯éœ€è¦å®é™…çš„è¿›è¡ŒèŠ‚ç‚¹äº¤æ¢ã€‚  
**ç¤ºä¾‹ 1:**

![](https://pic.leetcode-cn.com/1626420311-PkUiGI-image.png#id=G9bQk&originHeight=222&originWidth=422&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)

```
è¾“å…¥: head = [1,2,3,4]
è¾“å‡º: [1,4,2,3]
```

```java
class Solution {
    public void reorderList(ListNode head) {
        ////å°†ä¸»é“¾è¡¨åˆ’åˆ†ä¸º å‰ä¸€æ®µå­é“¾è¡¨å’Œåä¸€æ®µå­é“¾è¡¨ï¼Œ
        // å¯¹äºåä¸€æ®µå­é“¾è¡¨è¿›è¡Œç¿»è½¬ï¼ŒåŒæ—¶å¯¹äºè¿™ä¸¤æ¡é“¾è¡¨è¿›è¡Œé‡æ„;
        ArrayDeque<ListNode> deque = new ArrayDeque<ListNode>();
        ListNode dummy = new ListNode(-1);
        dummy.next = head;
        while (head!=null) {
            ListNode next = head.next;
            head.next = null;
            deque.add(head);
            head = next;
        }
        ListNode curr = dummy;
        while (!deque.isEmpty()) {
            ListNode start = deque.pollFirst();
            curr.next = start;
            //å¾ªç¯éå†dequeåŒç«¯ï¼Œç›´è‡³é˜Ÿåˆ—ä¸ºç©º
            if (!deque.isEmpty()){
                ListNode last = deque.pollLast();
                start.next = last;//curr-ã€‹start-ã€‹last
                curr = last;//currä¸“ç¨‹last
            }else {
                start.next = null;
            }
        }
        return;
    }
}
```

### 

ä¸¤ä¸ªé“¾è¡¨åˆå¹¶

```java
public ListNode mergeTwoLists(ListNode a, ListNode b) {
    if (a == null || b == null) {
        return a != null ? a : b;
    }
    ListNode head = new ListNode(0);
    ListNode tail = head, la = a, lb = b;
    while (la != null && lb != null) {
        if (la.val < lb.val) {
            tail.next = la;
            la = la.next;
        } else {
            tail.next = lb;
            lb = lb.next;
        }
        tail = tail.next;
    }
    tail.next = (la != null ? la : lb);
    return head.next;
}
```

> å¤šä¸ªé“¾è¡¨åˆå¹¶å¯ä»¥éå†ï¼Œ  

```java
public ListNode mergeKLists(ListNode[] lists) {
    ListNode ans = null;
    for (ListNode list : lists) {
        ans = mergeTwoLists(ans,list);
    }
    return ans;
}
```

### 

[92. åè½¬é“¾è¡¨ II](https://leetcode.cn/problems/reverse-linked-list-ii/)

ç»™ä½ å•é“¾è¡¨çš„å¤´æŒ‡é’ˆÂ `head`Â å’Œä¸¤ä¸ªæ•´æ•°Â `left`Â å’ŒÂ `right`Â ï¼Œå…¶ä¸­Â `left <= right`Â ã€‚è¯·ä½ åè½¬ä»ä½ç½®Â `left`Â åˆ°ä½ç½®Â `right`Â çš„é“¾è¡¨èŠ‚ç‚¹ï¼Œè¿”å›Â **åè½¬åçš„é“¾è¡¨**Â ã€‚

**ç¤ºä¾‹ 1ï¼š**  
![](https://raw.githubusercontent.com/52chen/imagebed2023/main/rev2ex2.jpg#id=bT9HK&originHeight=222&originWidth=542&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)

```
è¾“å…¥ï¼šhead = [1,2,3,4,5], left = 2, right = 4
è¾“å‡ºï¼š[1,4,3,2,5]
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šhead = [5], left = 1, right = 1
è¾“å‡ºï¼š[5]
```

**æç¤ºï¼š**

- é“¾è¡¨ä¸­èŠ‚ç‚¹æ•°ç›®ä¸ºÂ `n`
- `1 <= n <= 500`
- `-500 <= Node.val <= 500`
- `1 <= left <= right <= n`

```java
class Solution {
    public ListNode reverseBetween(ListNode head, int left, int right) {
        ListNode dummy = new ListNode(-1,head);
        ListNode prev = dummy;
        ListNode curr = head;

        //ç›´æ¥æ‰¾åˆ°å¯¹åº”çš„ä½ç½®ï¼Œç„¶åå†åˆ‡æ–­å†åè½¬å†æ¥ä¸Š
        for (int i = 1; i < left; i++) {
            prev = curr;
            curr = curr.next;
        }
        for (int i = 0; i < right - left; i++) {
            ListNode tmp = curr.next;
            curr.next = tmp.next;//curræŒ‡å‘tmpåé¢
            tmp.next = prev.next;//æŠŠtmpæ¥é¾™ï¼Œæ¥åˆ°è¦é€†å‘çš„prevçš„åé¢
            prev.next = tmp;//è¿™ä¸‰éƒ¨=éƒ¨åˆ†ä¸èƒ½è°ƒæ¢é¡ºåºï¼Œå› ä¸ºcurrè¦ç”¨tmp
            //tmpè¦ç”¨prevï¼Œæœ€åæ‰å¯ä»¥åˆ‡æ¢prevçš„next
        }
        return dummy.next;
    }

}
```

### 

ä¸¤ä¸¤äº¤æ¢é“¾è¡¨

ç»™ä½ ä¸€ä¸ªé“¾è¡¨ï¼Œä¸¤ä¸¤äº¤æ¢å…¶ä¸­ç›¸é‚»çš„èŠ‚ç‚¹ï¼Œå¹¶è¿”å›äº¤æ¢åé“¾è¡¨çš„å¤´èŠ‚ç‚¹ã€‚ä½ å¿…é¡»åœ¨ä¸ä¿®æ”¹èŠ‚ç‚¹å†…éƒ¨çš„å€¼çš„æƒ…å†µä¸‹å®Œæˆæœ¬é¢˜ï¼ˆå³ï¼Œåªèƒ½è¿›è¡ŒèŠ‚ç‚¹äº¤æ¢ï¼‰ã€‚  
**ç¤ºä¾‹ 1ï¼š**  
![image.png](https://cdn.nlark.com/yuque/0/2024/png/1389077/1714876109933-7fa8e0af-facf-433a-b974-57769ebd91ba.png#averageHue=%23f5f5f5&clientId=uae8ec878-cd5c-4&from=paste&id=u95f8df60&originHeight=222&originWidth=422&originalType=url&ratio=2&rotation=0&showTitle=false&size=36253&status=done&style=none&taskId=ufbe88286-0066-4003-a348-0e7f34819b2&title=)

```
è¾“å…¥ï¼šhead = [1,2,3,4]
è¾“å‡ºï¼š[2,1,4,3]
```

**ç¤ºä¾‹ 2ï¼š**  
![](https://cdn.nlark.com/yuque/0/2024/jpeg/1389077/1714876219992-f689ea3c-7742-4ce9-958a-1cb17d403f3b.jpeg)

```java
public ListNode swapPairs(ListNode head) {
    ListNode dummy = new ListNode(-1,head);
    ListNode prev = dummy;
    ListNode cur = head;
    while (cur!=null&&cur.next!=null){
        ListNode tmp = cur.next.next;
        prev.next = cur.next;
        cur.next.next = cur;
        cur.next = tmp;
        cur = cur.next;
        prev = prev.next.next;
    }
    return dummy.next;
}
```

## 

æ ˆçš„ä½¿ç”¨

### 

[42. æ¥é›¨æ°´](https://leetcode.cn/problems/trapping-rain-water/)

ç»™å®šÂ `n`Â ä¸ªéè´Ÿæ•´æ•°è¡¨ç¤ºæ¯ä¸ªå®½åº¦ä¸ºÂ `1`Â çš„æŸ±å­çš„é«˜åº¦å›¾ï¼Œè®¡ç®—æŒ‰æ­¤æ’åˆ—çš„æŸ±å­ï¼Œä¸‹é›¨ä¹‹åèƒ½æ¥å¤šå°‘é›¨æ°´ã€‚

**ç¤ºä¾‹ 1ï¼š**  
![image.png](https://cdn.nlark.com/yuque/0/2024/png/1389077/1715474899367-71184728-ce12-4bf7-9eaf-e7d33f12156f.png#averageHue=%23bfbfbf&clientId=u3a18be3a-46a6-4&id=rSlo6&originHeight=161&originWidth=412&originalType=binary&ratio=1&rotation=0&showTitle=false&size=9617&status=done&style=none&taskId=ue7976eb9-b30a-4462-b96b-c3dcbedd872&title=)

```
è¾“å…¥ï¼šheight = [0,1,0,2,1,0,1,3,2,1,2,1]
è¾“å‡ºï¼š6
è§£é‡Šï¼šä¸Šé¢æ˜¯ç”±æ•°ç»„ [0,1,0,2,1,0,1,3,2,1,2,1] è¡¨ç¤ºçš„é«˜åº¦å›¾ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥æ¥ 6 ä¸ªå•ä½çš„é›¨æ°´ï¼ˆè“è‰²éƒ¨åˆ†è¡¨ç¤ºé›¨æ°´ï¼‰ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šheight = [4,2,0,3,2,5]
è¾“å‡ºï¼š9
```

```java
class Solution {
    public int trap(int[] height) {
        int count = 0;
        ArrayDeque<Integer> stack = new ArrayDeque<>();
        //ç»´æŒä¸€ä¸ªé€’å‡çš„æ ˆï¼Œé€’å¢äº†æ˜¾ç„¶å°±æ˜¯æœ‰ä¸€ä¸ªå‘
        for (int i = 0; i < height.length; i++) {
            while (!stack.isEmpty() && height[stack.peek()]<height[i]){
                //å‡ºç°é€’å¢çš„æ—¶å€™
                int popped = stack.pop();
                while (!stack.isEmpty() && height[popped]==height[stack.peek()])
                    stack.pop();//ç»§ç»­å¼¹å‡ºå»
                //Att:å¦‚æœæ­¤æ—¶stackä¸ºç©ºäº†ï¼Œè¯´æ˜å½“å‰å‡¹æ§½æ²¡æœ‰å·¦è¾¹è¾¹ç•Œï¼Œä¸å¾—è¡Œ
                if (!stack.isEmpty()){
                    int min = Math.min(height[stack.peek()], height[i]);
                    //stackå¯ä»¥ä¸€ç›´å¾€å·¦è¾¹åï¼Œååˆ°å’Œå½“å‰å‡¹æ§½ä¸ç›¸ç­‰çš„åœ°æ–¹ï¼Œæ‰€ä»¥è®¡ç®—å®½åº¦ç”¨çš„peek-1ï¼›
                    count+=(min-height[popped])*(i- stack.peek()-1);
                }
            }
            stack.push(i);
        }
        return count;
    }
}
```